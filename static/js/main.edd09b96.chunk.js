(this["webpackJsonplightbar-redux"]=this["webpackJsonplightbar-redux"]||[]).push([[0],{187:function(e,t,a){e.exports=a(411)},192:function(e,t,a){},193:function(e,t,a){e.exports=a.p+"static/media/logo.8dad8028.svg"},198:function(e,t,a){},36:function(e,t,a){e.exports={row:"Counter_row__1C_4f",value:"Counter_value__1d0te",button:"Counter_button__1xpSV",textbox:"Counter_textbox__3ODaX",asyncButton:"Counter_asyncButton__2UAr3 Counter_button__1xpSV"}},411:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(12),o=a.n(l),c=a(454),i=(a(192),a(193),a(86)),u=a(15),s=a(39),d=Object(s.b)({name:"counter",initialState:{value:0},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}}}),m=d.actions;m.increment,m.decrement,m.incrementByAmount,d.reducer,a(36);a(198);var h=a(438),f=a(452),g=a(453),b=a(450),v=a(43),E=a(177),p=a.n(E),y=a(444),C=a(445),x=a(446),w=a(447),j=a(441),k=a(442),O=a(443),S=[{model:"SL-24",front:2,rear:2},{model:"SL-30",front:3,rear:3},{model:"SL-36",front:4,rear:4},{model:"SL-42",front:5,rear:5},{model:"SL-48",front:6,rear:6},{model:"SL-54",front:7,rear:7},{model:"SL-60",front:8,rear:8},{model:"SL-66",front:9,rear:9},{model:"SL-72",front:10,rear:10},{model:"SL-78",front:11,rear:11},{model:"SL-84",front:12,rear:12},{model:"SL-90",front:13,rear:13},{model:"SL-96",front:14,rear:14}],L=Object(s.b)({name:"lightbarSelector",initialState:{selectedModel:null},reducers:{selectLightbar:function(e,t){e.selectedModel=t.payload}}}),N=L.actions.selectLightbar,R=function(e){return e.lightbarSelector.selectedModel},_=L.reducer,B=Object(h.a)({list:{border:"solid 1px lightgray",borderRadius:3,marginTop:10,maxHeight:300,overflow:"auto"}}),D=function(e){var t=e.onClick,a=e.selected,n=void 0===a?null:a;return S.map((function(e){return r.a.createElement(j.a,{selected:(null===n||void 0===n?void 0:n.model)===e.model,key:e.model,onClick:function(){return t(e)},button:!0},r.a.createElement(k.a,{primary:e.model,secondary:"Front ".concat(e.front," / Rear ").concat(e.rear)}))}))};var I=function(){var e=B(),t=Object(u.c)(R);console.log(t);var a=Object(u.b)();return r.a.createElement(O.a,{className:e.list},r.a.createElement(D,{onClick:function(e){return a(N(e))},selected:t}))},W=a(42),H=Object(h.a)({root:{display:"flex",flexDirection:"row",alignContent:"stretch",justifyContent:"center",minHeight:400,marginTop:20},card:{width:500},subtitle:{fontSize:14},button:{justifyContent:"flex-end"}});function z(){var e=H(),t=Object(W.g)(),a=Object(u.c)(R);return r.a.createElement("div",{className:e.root},r.a.createElement(y.a,{className:e.card},r.a.createElement(C.a,null,r.a.createElement(v.a,{variant:"h6"},"Lightbars"),r.a.createElement(v.a,{className:e.subtitle},"Select a lightbar model to configure"),r.a.createElement(I,null)),r.a.createElement(x.a,{className:e.button},r.a.createElement(w.a,{color:"primary",disabled:!a,variant:"contained",onClick:function(){return t.push("/lightbar")}},"Start Configurator"))))}a(122);var M=a(22),A=function(e){return Object.values(e).map((function(e){return function(e){var t=Number(e).toString(16);return t.length<2&&(t="0"+t),t}(e)})).join("")},P=Object(h.a)({root:{display:"flex",flexDirection:"row",height:function(e){return e.width?"auto":200},justifyContent:"center",marginLeft:10,maxWidth:750,minWidth:function(e){return e.width||500},width:function(e){return e.width||"100%"}}});var G=function(e){var t=e.lights,a=void 0===t?[]:t,l=e.onClick,o=e.selectedLight,c=(e.title,e.width),i=P({width:c}),u=Object(n.useRef)();if(!a.length)return null;var s=a.slice(0,(a.length-6)/2),d=a.slice(s.length+3,-3),m=114+45*s.length,h=(c||m)/m,f=s.length*(45*h),g=5*h,b=function(e){return function(){return l(e)}},v=function(e){return o===e?"red":null},E=function(e){var t=e.r,a=e.g,n=e.b;return"#".concat(A({r:t,g:a,b:n}))};return r.a.createElement("div",{ref:u,className:i.root},r.a.createElement(M.Stage,{width:m*h,height:200*h},r.a.createElement(M.Layer,{x:57*h},s.map((function(e,t){return r.a.createElement(M.Rect,{key:t,x:45*t*h,y:20*h,width:40*h,height:24*h,fill:E(e.color),shadowBlur:g,cornerRadius:5,onClick:b(t),stroke:v(t)})}))),r.a.createElement(M.Layer,{rotation:-180,x:114*h+f,y:184*h},r.a.createElement(M.Rect,{x:58*h,y:44*h,width:40*h,height:24*h,fill:E(a[s.length+2].color),shadowBlur:g,rotation:135,cornerRadius:5,onClick:b(s.length+2),stroke:v(s.length+2)}),r.a.createElement(M.Rect,{x:30*h,y:73*h,width:40*h,height:24*h,fill:E(a[s.length+1].color),shadowBlur:g,rotation:90,cornerRadius:5,onClick:b(s.length+1),stroke:v(s.length+1)}),r.a.createElement(M.Rect,{x:30*h,y:113*h,width:40*h,height:24*h,fill:E(a[s.length].color),shadowBlur:g,rotation:45,cornerRadius:5,onClick:b(s.length),stroke:v(s.length)})),r.a.createElement(M.Layer,{x:57*h},d.map((function(e,t){return r.a.createElement(M.Rect,{key:t,x:45*t*h,y:140*h,width:40*h,height:24*h,fill:E(a[a.length-4-t].color),shadowBlur:g,cornerRadius:5,onClick:b(a.length-4-t),stroke:v(a.length-4-t)})}))),r.a.createElement(M.Layer,null,r.a.createElement(M.Rect,{x:55*h,y:44*h,width:40*h,height:24*h,fill:E(a[a.length-1].color),shadowBlur:g,rotation:135,cornerRadius:5,onClick:b(a.length-1),stroke:v(a.length-1)}),r.a.createElement(M.Rect,{x:27*h,y:73*h,width:40*h,height:24*h,fill:E(a[a.length-2].color),shadowBlur:g,rotation:90,cornerRadius:5,onClick:b(a.length-2),stroke:v(a.length-2)}),r.a.createElement(M.Rect,{x:27*h,y:113*h,width:40*h,height:24*h,fill:E(a[a.length-3].color),shadowBlur:g,rotation:45,cornerRadius:5,onClick:b(a.length-3),stroke:v(a.length-3)}))))},V=a(84),T=a(85),q=a(448),F=a(455),J=a(88),U=a(174),X=Object(h.a)({root:{position:"fixed",margin:"-50px 40px",zIndex:2}}),$=function(e){var t=e.value,a=e.onClick,n=e.onChange,l=X();return r.a.createElement("div",{className:l.root},r.a.createElement("div",{style:{position:"absolute",zIndex:"2"}},r.a.createElement("div",{style:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"},onClick:a}),r.a.createElement(U.ChromePicker,{color:t,onChange:n})))},K=Object(h.a)({root:{minWidth:400,maxWidth:500},card:{},cardHeader:{color:"#ffffff",backgroundColor:J.a[500]},cardContent:{},colorInfo:{display:"flex",flexDirection:"row",justifyContent:"space-between"},colorView:{width:25,height:25,backgroundColor:function(e){return"rgb(".concat(Object.values(e.color),")")}}});var Q=function(e){var t,a,l,o=e.config,c=e.onChange,u=K({color:(null===o||void 0===o?void 0:o.color)||{r:255,g:255,b:255}}),s=Object(n.useState)(!1),d=Object(i.a)(s,2),m=d[0],h=d[1],f=function(e){var t=e.target;console.log(t.value),c({color:Object(T.a)({},null===o||void 0===o?void 0:o.color,Object(V.a)({},t.name,+t.value>=0&&+t.value<=255?t.value.trim():null===o||void 0===o?void 0:o.color[t.name]))})},g=function(){return h(!m)};return r.a.createElement("div",{className:u.root},r.a.createElement(y.a,{className:u.card},r.a.createElement(q.a,{className:u.cardHeader,title:"Set the color"}),r.a.createElement(C.a,{className:u.cardContent},o?r.a.createElement("div",{className:u.colorInfo},r.a.createElement(F.a,{label:"Red",inputProps:{max:255,min:0},name:"r",onChange:f,size:"small",type:"number",value:(null===o||void 0===o||null===(t=o.color)||void 0===t?void 0:t.r)||255,variant:"outlined"}),r.a.createElement(F.a,{label:"Green",inputProps:{max:255,min:0},name:"g",onChange:f,size:"small",type:"number",value:(null===o||void 0===o||null===(a=o.color)||void 0===a?void 0:a.g)||255,variant:"outlined"}),r.a.createElement(F.a,{label:"Blue",inputProps:{max:255,min:0},name:"b",onChange:f,size:"small",type:"number",value:(null===o||void 0===o||null===(l=o.color)||void 0===l?void 0:l.b)||255,variant:"outlined"}),r.a.createElement(w.a,{color:"default",onClick:g,variant:"contained"},r.a.createElement("span",{className:u.colorView})),m&&r.a.createElement($,{value:null===o||void 0===o?void 0:o.color,onClick:g,onChange:function(e){return c({color:e.rgb})}})):r.a.createElement(v.a,{variant:"h6"},"Please select a light module from the lightbar preview to set the color."))))},Y=a(176),Z=a.n(Y),ee=a(449),te=a(175),ae=a.n(te),ne=a(179),re={lightbar:null,cycles:[],selectedCycle:0,selectedLight:0},le=Object(s.b)({name:"lightbar",initialState:re,reducers:{setLightbar:function(e,t){return Object(T.a)({},re,{lightbar:t.payload})},setSelectedCycle:function(e,t){e.selectedCycle=t.payload},setSelectedLight:function(e,t){e.selectedLight=t.payload},addCycle:function(e,t){var a;e.cycles.push({lights:t.payload||(a=e.lightbar,Object(ne.a)(Array(a.front+a.rear+6).keys()).map((function(e){return{color:{r:255,g:255,b:255}}})))})},deleteCycle:function(e,t){e.cycles.splice(t.payload,1)},setLightSetting:function(e,t){e.cycles[e.selectedCycle].lights[e.selectedLight]=t.payload},setInitialState:function(e){le.initialState}}}),oe=le.actions,ce=oe.setLightbar,ie=oe.setSelectedCycle,ue=oe.setSelectedLight,se=oe.addCycle,de=oe.deleteCycle,me=oe.setLightSetting,he=(oe.setInitialState,function(e){return e.lightbar.cycles}),fe=function(e){return e.lightbar.selectedCycle},ge=function(e){return e.lightbar.selectedLight},be=le.reducer,ve=Object(h.a)({root:{width:"100%",overflow:"auto",maxHeight:400},item:{height:75}}),Ee=function(e){var t=e.className,a=e.id,n=e.lights,l=e.onClick,o=e.onDelete,c=e.selected;return r.a.createElement(j.a,{alignItems:"center",className:t,selected:c,onClick:l,button:!0},r.a.createElement(k.a,{primary:"Cycle #".concat(a+1)}),r.a.createElement(G,{lights:n,width:10*(n.length-6)}),r.a.createElement(ee.a,null,r.a.createElement(b.a,{"arial-label":"delete",edge:"end",onClick:o},r.a.createElement(ae.a,null))))};var pe=function(){var e=ve(),t=Object(u.c)(he),a=Object(u.c)(fe),n=Object(u.b)(),l=function(e){return function(){return n(de(e))}};return r.a.createElement(O.a,{className:e.root},t.map((function(t,o){return r.a.createElement(Ee,{className:e.item,key:o,id:o,lights:t.lights,onClick:(c=o,function(){return n(ie(c))}),onDelete:l(o),selected:o===a});var c})))},ye=Object(h.a)({action:{color:"#ffffff"},card:{},cardHeader:{color:"#ffffff",backgroundColor:J.a[500]},root:{}});var Ce=function(){var e=ye(),t=Object(u.b)();return r.a.createElement("div",{className:e.root},r.a.createElement(y.a,{className:e.card},r.a.createElement(q.a,{className:e.cardHeader,action:r.a.createElement(b.a,{"arial-label":"Add a new cycle",className:e.action,onClick:function(){return t(se())}},r.a.createElement(Z.a,null)),title:"Cycles"}),r.a.createElement(C.a,null,r.a.createElement(pe,null))))},xe=a(451),we=Object(h.a)({root:{display:"flex",flexDirection:"row",marginTop:20,padding:"0 16px",alignContent:"space-between",flexWrap:function(e){return e.mqMatches?null:"wrap-reverse"}},cycles:{minWidth:400,flexGrow:1,bottom:0},details:{flexGrow:2,display:"flex",flexDirection:"column",alignItems:"center",alignContent:"stretch",padding:"0 10px"}});var je=function(){var e,t,a=Object(xe.a)("(min-width: 800px)"),l=we({mqMatches:a}),o=Object(u.b)(),c=Object(u.c)(R),i=Object(u.c)(fe),s=Object(u.c)(ge),d=Object(u.c)(he),m=Object(u.c)(R);return Object(n.useEffect)((function(){o(ce(c))}),[]),Object(n.useEffect)((function(){m&&o(se())}),[m]),c?(console.log(i),r.a.createElement(r.a.Fragment,null,!!m&&r.a.createElement("div",{className:l.root},r.a.createElement("div",{className:l.cycles},r.a.createElement(Ce,null)),r.a.createElement("div",{className:l.details},r.a.createElement(G,{lights:null===(e=d[i])||void 0===e?void 0:e.lights,onClick:function(e){return o(ue(e))},selectedLight:s,title:c.model}),r.a.createElement(Q,{config:null===(t=d[i])||void 0===t?void 0:t.lights[s],onChange:function(e){return o(me(e))}}))))):r.a.createElement(W.a,{to:"/"})},ke=Object(h.a)((function(e){return{root:{},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));var Oe=function(){var e=ke();return r.a.createElement("div",{className:e.root},r.a.createElement(f.a,{position:"static"},r.a.createElement(g.a,null,r.a.createElement(b.a,{edge:"start",className:e.root,color:"inherit","aria-label":"Menu"},r.a.createElement(p.a,null)),r.a.createElement(v.a,{variant:"h6",className:e.title},"DandR Electronic Lighbar Configurator"))),r.a.createElement(W.d,null,r.a.createElement(W.b,{path:"/lightbar"},r.a.createElement(je,null)),r.a.createElement(W.b,{path:"/"},r.a.createElement(z,null))))},Se=Object(s.a)({reducer:{lightbarSelector:_,lightbar:be}}),Le=a(178),Ne=Object(Le.a)();Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Re=a(62);o.a.render(r.a.createElement(c.a,{theme:Ne},r.a.createElement(u.a,{store:Se},r.a.createElement(Re.a,null,r.a.createElement(Oe,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[187,1,2]]]);
//# sourceMappingURL=main.edd09b96.chunk.js.map