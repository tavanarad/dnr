(this["webpackJsonplightbar-redux"]=this["webpackJsonplightbar-redux"]||[]).push([[0],{225:function(e,t,a){e.exports=a(453)},230:function(e,t,a){},452:function(e,t,a){},453:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(17),o=a.n(l),c=a(510),i=(a(230),a(485)),s=a(65),u=a(494),m=a(495),d=a(44),h=a(496),f=a(457),g=a(8),p=a(454),b=a(488),v=a(489),x=[{model:"SL-24",front:2,rear:2,get total(){return this.front+this.rear+6}},{model:"SL-30",front:3,rear:3,get total(){return this.front+this.rear+6}},{model:"SL-36",front:4,rear:4,get total(){return this.front+this.rear+6}},{model:"SL-42",front:5,rear:5,get total(){return this.front+this.rear+6}},{model:"SL-48",front:6,rear:6,get total(){return this.front+this.rear+6}},{model:"SL-54",front:7,rear:7,get total(){return this.front+this.rear+6}},{model:"SL-60",front:8,rear:8,get total(){return this.front+this.rear+6}},{model:"SL-66",front:9,rear:9,get total(){return this.front+this.rear+6}},{model:"SL-72",front:10,rear:10,get total(){return this.front+this.rear+6}},{model:"SL-78",front:11,rear:11,get total(){return this.front+this.rear+6}},{model:"SL-84",front:12,rear:12,get total(){return this.front+this.rear+6}},{model:"SL-90",front:13,rear:13,get total(){return this.front+this.rear+6}},{model:"SL-96",front:14,rear:14,get total(){return this.front+this.rear+6}}],E=a(50),y=Object(E.b)({name:"lightbarSelector",initialState:{selectedModel:null,selectedColorSchema:null,hasGreen:!1},reducers:{selectLightbar:function(e,t){e.selectedModel=t.payload},selectColorSchema:function(e,t){e.selectedColorSchema=t.payload},setHasGreen:function(e,t){e.hasGreen=t.payload}}}),C=y.actions,w=C.selectLightbar,j=(C.selectColorSchema,C.setHasGreen,function(e){return e.lightbarSelector.selectedModel}),O=function(e){return e.lightbarSelector.hasGreen},S=y.reducer,k=Object(E.b)({name:"lightbarSchema",initialState:{lightbar:null,name:null,schema:null},reducers:{setLightbar:function(e,t){e.lightbar=t.payload,e.schema&&e.schema.length||(e.schema=function(e){var t=[];if(e)for(var a=0;a<e.total;a+=1)t.push([]);return t}(e.lightbar))},setSchemaName:function(e,t){e.name=t.payload},setSchema:function(e,t){e.schema=t.payload,t.payload||(e.name=null)}}}),F=k.actions,N=F.setLightbar,L=F.setSchemaName,R=F.setSchema,B=function(e){return e.lightbarSchema.name},D=function(e){return e.lightbarSchema.schema},I=k.reducer,P=Object(i.a)({list:{border:"solid 1px lightgray",borderRadius:3,marginTop:10,marginBottom:10,maxHeight:150,overflow:"auto"}}),z=function(e){var t=e.onClick,a=e.selected,n=void 0===a?null:a;return x.map((function(e){return r.a.createElement(p.a,{selected:(null===n||void 0===n?void 0:n.model)===e.model,key:e.model,onClick:function(){return t(e)},button:!0},r.a.createElement(b.a,{primary:e.model,secondary:"Front ".concat(e.front," / Rear ").concat(e.rear)}))}))};var A=function(){var e=P(),t=Object(g.c)(j),a=Object(g.b)();return r.a.createElement(v.a,{className:e.list},r.a.createElement(z,{onClick:function(e){a(w(e)),a(R(null))},selected:t}))},W=a(5),T=a(490),G=a(512),H=a(493),M=a(118),J=Object(i.a)((function(e){return{select:{width:"100%",marginTop:e.spacing(2)},switch:{marginTop:e.spacing(2)}}}));Object(W.a)({switchBase:{color:M.a[300],"&$checked":{color:M.a[500]},"&$checked + $track":{backgroundColor:M.a[500]}},checked:{},track:{}})(T.a);var U=function(){var e=J(),t=Object(g.b)(),a=Object(g.c)(B),n=(Object(g.c)(O),Object(g.c)(j)),l=JSON.parse(localStorage.getItem("lightbar-schema")||"{}");return r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{value:a||"",onChange:function(e){t(L(e.target.value)),t(R(l[e.target.value]||[]))},displayEmpty:!0,className:e.select,inputProps:{"aria-label":"Without label"}},r.a.createElement(H.a,{value:"create-new-schema"},r.a.createElement("em",null,"Create a new one")),Object.keys(l).map((function(e){return n&&n.total===l[e].length&&r.a.createElement(H.a,{key:e,value:e},e)}))))},V=Object(i.a)({root:{display:"flex",flexDirection:"row",alignContent:"stretch",justifyContent:"center",minHeight:400,marginTop:20},card:{width:500},subtitle:{fontSize:14},button:{justifyContent:"flex-end"}});function $(){var e=V(),t=Object(s.g)(),a=Object(g.c)(j),n=Object(g.c)(B);return r.a.createElement("div",{className:e.root},r.a.createElement(u.a,{className:e.card},r.a.createElement(m.a,null,r.a.createElement(d.a,{variant:"h6"},"Lightbars"),r.a.createElement(d.a,{className:e.subtitle},"Select a lightbar model to configure"),r.a.createElement(A,null),r.a.createElement(d.a,{variant:"h6"},"Color Schema"),r.a.createElement(d.a,{className:e.subtitle},"Select the color schema of the lightbar"),r.a.createElement(U,null)),r.a.createElement(h.a,{className:e.button},r.a.createElement(f.a,{color:"primary",disabled:!a||!n,variant:"contained",onClick:function(){return t.push("/lightbar/schema")}},"Start Configurator"))))}var q=a(18),Y=a(497),K=a(498),Q=a(456),X=a(217),Z=a(209),_=a.n(Z),ee=a(207),te=a.n(ee),ae=a(208),ne=a.n(ae),re=a(31),le=a(27),oe=a(206),ce=a.n(oe),ie=a(19),se=function(e){var t=e||{r:0,g:0,b:0};return Object(ie.e)("rgb(".concat(t.r,", ").concat(t.g,", ").concat(t.b,")")).toUpperCase()},ue=function(e){if(!e||!e.length)return null;var t=e[0].lights.length,a=3;e.forEach((function(e){a+=e.repeat*t*3}));var n=new ArrayBuffer(a),r=new DataView(n);r.setUint8(0,t),r.setUint16(1,e.length);var l=3;return e.forEach((function(e){return Object(le.a)(new Array(+e.repeat).keys()).forEach((function(){return e.lights.forEach((function(e){return[(e.color.r*e.color.a).toFixed(0),(e.color.g*e.color.a).toFixed(0),(e.color.b*e.color.a).toFixed(0)].forEach((function(e){return r.setUint8(l++,e)}))}))}))})),new Blob([r.buffer],{type:"application/octet-stream"})},me=function(e){var t=e.length>47?e.length+1:1,a=new ArrayBuffer(48*t*e[0].length*3+4),n=new DataView(a);n.setUint32(0,a.byteLength);for(var r=0;r<t;r+=1){for(var l=0;l<48;l+=1)for(var o=function(t){var a=48*r*e[0].length*3+l*e[0].length*3+3*t+4;e[r+l]?e[r+l][t].forEach((function(e,t){n.setUint8(a+t,e)})):[0,0,0].forEach((function(e,t){return n.setUint8(a+t,e)}))},c=0;c<e[0].length;c+=1)o(c);if(e.length<=47)break}return new Blob([n.buffer],{type:"application/octet-stream"})},de=function(e){return new Blob([JSON.stringify(e)],{type:"application/json"})},he=function(e,t){ce.a.saveAs(e,t)},fe=function(e){return Object(le.a)(Array(e.front+e.rear+6).keys()).map((function(){return{color:{r:0,g:0,b:0,a:1}}}))},ge={lightbar:null,cycles:[],selectedCycle:0,selectedLight:[0],showPreview:!1,latestSelectedColor:null},pe=Object(E.b)({name:"lightbar",initialState:ge,reducers:{setLightbar:function(e,t){return Object(re.a)({},ge,{lightbar:t.payload})},setSelectedCycle:function(e,t){e.selectedCycle=t.payload},setSelectedLight:function(e,t){t.payload.shouldSetColor&&e.latestSelectedColor&&(e.cycles[e.selectedCycle].lights[t.payload.id].color=e.latestSelectedColor),e.selectedLight=t.payload.id},addCycle:function(e,t){e.cycles.push({lights:t.payload||fe(e.lightbar),repeat:1}),e.selectedCycle=e.cycles.length-1},duplicateCycle:function(e){e.cycles.push(e.cycles[e.selectedCycle]),e.selectedCycle=e.cycles.length-1},deleteCycle:function(e,t){e.cycles.splice(t.payload,1)},setCycleRepeat:function(e,t){!isNaN(t.payload.repeat)&&t.payload.repeat>0?e.cycles[t.payload.id].repeat=t.payload.repeat:""===t.payload.repeat&&(e.cycles[t.payload.id].repeat=1)},setLightSetting:function(e,t){e.cycles[e.selectedCycle].lights[e.selectedLight[0]]=t.payload,e.latestSelectedColor=t.payload.color},setInitialState:function(e){ge},setShowPreview:function(e,t){e.showPreview=t.payload},saveAsFile:function(e,t){var a=t.payload?[de({lightbar:e.lightbar,cycles:e.cycles}),"json"]:[ue(e.cycles),"bin"],n=Object(q.a)(a,2),r=n[0],l=n[1];he(r,"".concat(e.lightbar.model,"-").concat((new Date).getTime(),".").concat(l))}}}),be=pe.actions,ve=be.setLightbar,xe=be.setSelectedCycle,Ee=be.setSelectedLight,ye=be.addCycle,Ce=be.duplicateCycle,we=be.deleteCycle,je=be.setCycleRepeat,Oe=be.setLightSetting,Se=(be.setInitialState,be.setShowPreview),ke=be.saveAsFile,Fe=function(e){return e.lightbar.cycles},Ne=function(e){return e.lightbar.latestSelectedColor},Le=function(e){return e.lightbar.selectedCycle},Re=function(e){return e.lightbar.selectedLight},Be=function(e){return e.lightbar.showPreview},De=pe.reducer,Ie=Object(E.b)({name:"scrollingBoard",initialState:{column:48,firstLine:"HELLO WORLD",imageData:[],isGraphical:!1,ledColor:{r:0,g:255,b:0,a:1},pixelCornerRadius:0,pixelSize:10,row:16,secondLine:"Line 2",scrollSpeed:50,spaceBetweenPixels:null,style:null},reducers:{setColumn:function(e,t){e.column=t.payload},setImageData:function(e,t){e.imageData=t.payload},setIsGraphical:function(e,t){e.isGraphical=t.payload},setFirstLine:function(e,t){e.firstLine=t.payload},setLedColor:function(e,t){e.ledColor=t.payload},setPixelCornerRadius:function(e,t){e.pixelCornerRadius=t.payload},setRow:function(e,t){e.row=t.payload},setSecondLine:function(e,t){e.secondLine=t.payload},setScrollSpeed:function(e,t){e.scrollSpeed=t.payload},setBoardState:function(e,t){return t.payload},exportData:function(e,t){var a=t.payload?[de(e.imageData),"json"]:[me(e.imageData),"bin"],n=Object(q.a)(a,2),r=n[0],l=n[1];he(r,"message-board-".concat((new Date).getTime(),".").concat(l))}}}),Pe=Ie.actions,ze=Pe.exportData,Ae=(Pe.setColumn,Pe.setFirstLine,Pe.setImageData,Pe.setIsGraphical,Pe.setLedColor,Pe.setRow,Pe.setSecondLine,Pe.setScrollSpeed,Pe.setBoardState),We=function(e){return e.scrollingBoard},Te=Ie.reducer,Ge=Object(i.a)((function(e){return{menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},previewButton:{color:"#ffffff",borderColor:"#ffffff"}}}));var He=function(){var e=Ge(),t=Object(s.h)(),a=Object(s.g)(),l=Object(n.useState)({showPreview:!1,showExport:!1}),o=Object(q.a)(l,2),c=o[0],i=o[1],u=r.a.useState(null),m=Object(q.a)(u,2),h=m[0],p=m[1],b=Object(g.b)(),v=function(e){return function(){t.pathname.search(/lightbar$/)>-1?void 0!==e&&b(ke(e)):t.pathname.search(/message-board/)>-1&&void 0!==e&&b(ze(e)),p(null)}};return Object(n.useEffect)((function(){t.pathname.search(/lightbar$/)>0?i({showPreview:!0,showExport:!0}):t.pathname.search(/message-board/)>0?i({showPreview:!1,showExport:!0}):i({showPreview:!1,showExport:!1})}),[t]),r.a.createElement(Y.a,{position:"static"},r.a.createElement(K.a,null,r.a.createElement(Q.a,{edge:"start",color:"inherit","aria-label":"Menu",onClick:function(){return a.replace("/")}},r.a.createElement(te.a,null)),r.a.createElement(d.a,{variant:"h6",className:e.title},"DandR Electronic Lighbar Configurator"),c.showPreview&&r.a.createElement(f.a,{className:e.previewButton,onClick:function(){return b(Se(!0))},startIcon:r.a.createElement(ne.a,null),variant:"outlined"},"Preview"),c.showExport&&r.a.createElement(Q.a,{"aria-label":"Download",color:"inherit",edge:"end",onClick:function(e){return p(e.currentTarget)}},r.a.createElement(_.a,null)),r.a.createElement(X.a,{id:"simple-menu",anchorEl:h,keepMounted:!0,open:Boolean(h),onClose:v()},r.a.createElement(H.a,{onClick:v(!1)},"Export BIN"),r.a.createElement(H.a,{onClick:v(!0)},"Export JSON"))))},Me=(a(156),a(499)),Je=a(36),Ue=Object(i.a)({root:{display:"flex",flexDirection:"row",height:function(e){return e.width?"auto":200},justifyContent:"center",marginLeft:10,maxWidth:750,minWidth:function(e){return e.width||500},width:function(e){return e.width||"100%"}}}),Ve=function(e){var t=e.fill,a=(e.getStrokeColor,e.height),n=e.onClick,l=e.overlay,o=e.rotation,c=e.scale,i=e.shadowBlur,s=e.stroke,u=e.text,m=e.width,d=e.x,h=e.y;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Je.Rect,{fill:t,height:a,cornerRadius:5,onClick:n,rotation:o,shadowBlur:i,stroke:s,width:m,x:d,y:h}),r.a.createElement(Je.Group,{rotation:o,x:d,y:h},l&&l.map((function(e,t){return r.a.createElement(Je.Rect,{key:e,fill:e,height:a,cornerRadius:5,onClick:n,width:m/l.length,x:t*(m/l.length),y:0})}))),u&&r.a.createElement(Je.Text,{align:"center",fontSize:10*c,height:a,rotation:o,text:u,verticalAlign:"middle",width:m,x:d,y:h}))};var $e=function(e){var t=e.lights,a=void 0===t?[]:t,l=e.overlays,o=void 0===l?[]:l,c=e.onClick,i=e.selectedLight,s=void 0===i?[]:i,u=(e.title,e.width),m=Ue({width:u}),d=Object(n.useRef)();if(!a.length)return null;var h=a.slice(0,(a.length-6)/2),f=a.slice(h.length+3,-3),g=114+45*h.length,p=(u||g)/g,b=h.length*(45*p),v=5*p,x=function(e){return function(){return c&&c(e)}},E=function(e){return s.indexOf(e)>-1?"red":null},y=function(e){var t=e.r,a=e.g,n=e.b,r=e.a;return se({r:(t*r).toFixed(0),g:(a*r).toFixed(0),b:(n*r).toFixed(0)})};return r.a.createElement("div",{ref:d,className:m.root},r.a.createElement(Je.Stage,{width:g*p,height:200*p},r.a.createElement(Je.Layer,{x:57*p},h.map((function(e,t){return r.a.createElement(Ve,{fill:y(e.color),height:24*p,index:t,key:t,stroke:E(t),text:e.text,onClick:x(t),overlay:o[t],scale:p,shadowBlur:v,width:40*p,x:45*t*p,y:20*p})}))),r.a.createElement(Je.Layer,{rotation:-180,x:114*p+b,y:184*p},r.a.createElement(Ve,{x:58*p,y:44*p,width:40*p,height:24*p,fill:y(a[h.length+2].color),rotation:135,text:a[h.length+2].text,shadowBlur:v,cornerRadius:5,onClick:x(h.length+2),overlay:o[h.length+2],stroke:E(h.length+2),scale:p}),r.a.createElement(Ve,{x:30*p,y:73*p,width:40*p,height:24*p,fill:y(a[h.length+1].color),shadowBlur:v,text:a[h.length+1].text,rotation:90,cornerRadius:5,onClick:x(h.length+1),overlay:o[h.length+1],stroke:E(h.length+1),scale:p}),r.a.createElement(Ve,{x:30*p,y:113*p,width:40*p,height:24*p,fill:y(a[h.length].color),shadowBlur:v,text:a[h.length].text,rotation:45,cornerRadius:5,onClick:x(h.length),overlay:o[h.length],stroke:E(h.length),scale:p})),r.a.createElement(Je.Layer,{x:57*p},f.map((function(e,t){return r.a.createElement(Ve,{key:t,x:45*t*p,y:140*p,width:40*p,height:24*p,fill:y(a[a.length-4-t].color),shadowBlur:v,text:a[a.length-4-t].text,cornerRadius:5,onClick:x(a.length-4-t),overlay:o[a.length-4-t],stroke:E(a.length-4-t),scale:p})}))),r.a.createElement(Je.Layer,null,r.a.createElement(Ve,{x:55*p,y:44*p,width:40*p,height:24*p,fill:y(a[a.length-1].color),text:a[a.length-1].text,shadowBlur:v,rotation:135,cornerRadius:5,onClick:x(a.length-1),overlay:o[a.length-1],stroke:E(a.length-1),scale:p}),r.a.createElement(Ve,{x:27*p,y:73*p,width:40*p,height:24*p,fill:y(a[a.length-2].color),text:a[a.length-2].text,shadowBlur:v,rotation:90,cornerRadius:5,onClick:x(a.length-2),overlay:o[a.length-2],stroke:E(a.length-2),scale:p}),r.a.createElement(Ve,{x:27*p,y:113*p,width:40*p,height:24*p,fill:y(a[a.length-3].color),text:a[a.length-3].text,shadowBlur:v,rotation:45,cornerRadius:5,onClick:x(a.length-3),overlay:o[a.length-3],stroke:E(a.length-3),scale:p}))))},qe=a(60),Ye=a(514),Ke=a(500),Qe=a(501),Xe=a(502),Ze=Object(i.a)({});var _e=function(){Ze();var e=Object(qe.a)(),t=Object(n.useState)(!1),a=Object(q.a)(t,2),l=(a[0],a[1],Object(Me.a)(e.breakpoints.down("sm"))),o=Object(g.c)(Be),c=Object(g.c)(Fe),i=Object(g.b)(),s=Object(n.useState)(0),u=Object(q.a)(s,2),m=u[0],d=u[1],h=Object(n.useState)(1),p=Object(q.a)(h,2),b=p[0],v=p[1];Object(n.useEffect)((function(){var e=setInterval((function(){c[m].repeat>1&&b<c[m].repeat?v(b+1):(d(m+1<c.length?m+1:0),v(1))}),50);return function(){return clearInterval(e)}}));var x=function(){return i(Se(!1))};return r.a.createElement("div",null,r.a.createElement(Ye.a,{fullScreen:l,open:o,onClose:x,"aria-labelledby":"responsive-dialog-title"},r.a.createElement(Ke.a,{id:"responsive-dialog-title"},"Lightbar Preview"),r.a.createElement(Qe.a,null,c&&c[m]&&r.a.createElement($e,{lights:c[m].lights})),r.a.createElement(Xe.a,null,r.a.createElement(f.a,{onClick:x,variant:"outlined"},"Close"))))},et=a(47),tt=a(503),at=a(516),nt=a(117),rt=a(116),lt=a(7),ot=a.n(lt),ct=a(49),it=a.n(ct),st=a(33),ut=a.n(st),mt=a(38),dt=a.n(mt),ht=a(15),ft=function(e){var t=e.onChange,a=e.onSwatchHover,n=(e.hex,e.colors),l=e.width,o=e.triangle,c=e.styles,i=void 0===c?{}:c,s=e.className,u=void 0===s?"":s,m=ot()(ut()({default:{card:{width:l,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px",height:40},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},i),{"hide-triangle":"hide"===o,"top-left-triangle":"top-left"===o,"top-right-triangle":"top-right"===o}),d=function(e,a){dt.a.isValidHex(e)&&t({hex:e,source:"hex"},a)};return r.a.createElement("div",{style:m.card,className:"twitter-picker ".concat(u)},r.a.createElement("div",{style:m.triangleShadow}),r.a.createElement("div",{style:m.triangle}),r.a.createElement("div",{style:m.body},it()(n,(function(e,t){return r.a.createElement(ht.Swatch,{key:t,color:e,hex:e,style:m.swatch,onClick:d,onHover:a,focusStyle:{boxShadow:"0 0 4px ".concat(e)}})}))))};ft.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};var gt=Object(ht.ColorWrap)(ft),pt=Object(i.a)({root:{position:"fixed",margin:"-50px 40px",zIndex:2,backgroundColor:"white"},pallete:{backgroundColor:"white",position:"absolute",zIndex:"2"},innerPallete:{position:"fixed",top:0,right:0,bottom:0,left:0}}),bt=function(e){var t=e.colors,a=e.value,n=e.onClick,l=e.onChange,o=pt({colors:t});return r.a.createElement("div",{className:o.root},r.a.createElement("div",{className:o.pallete},r.a.createElement("div",{className:o.innerPallete,onClick:n}),(null===t||void 0===t?void 0:t.length)?r.a.createElement(gt,{colors:t,hex:!1,triangle:"hide",onChange:l}):r.a.createElement(rt.SketchPicker,{presetColors:["#FFBF00","#FF0000","#00FF00","#0000FF","#000000"],color:a,onChange:l,disableAlpha:!0})))},vt=Object(i.a)({root:{minWidth:400,maxWidth:500},card:{},cardHeader:{color:"#ffffff",backgroundColor:nt.a[500]},cardContent:{},colorInfo:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},colorView:{width:25,height:25,backgroundColor:function(e){return"rgb(".concat(Object.values(e.color),")")}}});var xt=function(e){var t=e.colors,a=e.config,l=e.onChange,o=vt({color:(null===a||void 0===a?void 0:a.color)||{r:255,g:255,b:255}}),c=Object(n.useState)(!1),i=Object(q.a)(c,2),s=i[0],h=i[1],g=function(e){var t=e.target;console.log(t.value),l({color:Object(re.a)({},null===a||void 0===a?void 0:a.color,Object(et.a)({},t.name,+t.value>=0&&+t.value<=255?t.value.trim():null===a||void 0===a?void 0:a.color[t.name]))})},p=function(){return h(!s)},b=function(e){return["#FF0000","#00FF00","#0000FF"].every((function(t){return e.indexOf(t)>-1}))},v=[].concat(Object(le.a)(t),["#000000"]);return r.a.createElement("div",{className:o.root},r.a.createElement(u.a,{className:o.card},r.a.createElement(tt.a,{className:o.cardHeader,title:"Set the color"}),r.a.createElement(m.a,{className:o.cardContent},a?r.a.createElement("div",{className:o.colorInfo},b(v)?r.a.createElement(r.a.Fragment,null,r.a.createElement(at.a,{label:"Red",inputProps:{max:255,min:0},name:"r",onChange:g,size:"small",type:"number",value:a.color?a.color.r:255,variant:"outlined"}),r.a.createElement(at.a,{label:"Green",inputProps:{max:255,min:0},name:"g",onChange:g,size:"small",type:"number",value:a.color?a.color.g:255,variant:"outlined"}),r.a.createElement(at.a,{label:"Blue",inputProps:{max:255,min:0},name:"b",onChange:g,size:"small",type:"number",value:a.color?a.color.b:255,variant:"outlined"})):r.a.createElement(rt.AlphaPicker,{color:a.color,onChange:function(e){console.log(e),l({color:e.rgb})},width:280}),r.a.createElement(f.a,{color:"default",onClick:p,variant:"contained"},r.a.createElement("span",{className:o.colorView})),s&&r.a.createElement(bt,{colors:b(v)?[]:v,onClick:p,onChange:function(e){return l({color:e.rgb})},value:null===a||void 0===a?void 0:a.color})):r.a.createElement(d.a,{variant:"h6"},"Please select a light module from the lightbar preview to set the color."))))},Et=a(212),yt=a.n(Et),Ct=a(211),wt=a.n(Ct),jt=a(505),Ot=a(210),St=a.n(Ot),kt=Object(i.a)({root:{width:"100%",overflow:"auto",maxHeight:400},item:{height:150},itemText:{alignItems:"center",display:"flex",flexDirection:"column"},itemTextFirstRow:{alignSelf:"normal",borderBottom:"1px solid lightgray",display:"flex",flexDirection:"row",justifyContent:"space-between",paddingBottom:5}}),Ft=function(e){var t=e.className,a=e.id,n=e.lights,l=e.onClick,o=e.onDelete,c=e.onRepeatChange,i=e.repeat,s=e.selected;return r.a.createElement(p.a,{alignItems:"center",className:t.item,selected:s,onClick:l,button:!0},r.a.createElement(b.a,null,r.a.createElement("div",{className:t.itemText},r.a.createElement("div",{className:t.itemTextFirstRow},r.a.createElement(d.a,{component:"span",variant:"h6"},"Cycle #".concat(a+1)),r.a.createElement(at.a,{label:"Repeat",inputProps:{max:999,min:0},min:1,onChange:c,size:"small",type:"number",value:i,variant:"outlined"})),r.a.createElement($e,{lights:n,width:10*(n.length-6)}))),r.a.createElement(jt.a,null,r.a.createElement(Q.a,{"arial-label":"delete",edge:"end",onClick:o},r.a.createElement(St.a,null))))};var Nt=function(){var e=kt(),t=Object(g.c)(Fe),a=Object(g.c)(Le),n=Object(g.b)(),l=function(e){return function(){return n(we(e))}},o=function(e){return function(t){return n(je({id:e,repeat:t.target.value}))}};return r.a.createElement(v.a,{className:e.root},t.map((function(t,c){return r.a.createElement(Ft,{className:{item:e.item,itemText:e.itemText,itemTextFirstRow:e.itemTextFirstRow},key:c,id:c,lights:t.lights,onClick:(i=c,function(){return n(xe(i))}),onDelete:l(c),onRepeatChange:o(c),repeat:t.repeat,selected:c===a});var i})))},Lt=Object(i.a)({action:{color:"#ffffff"},card:{},cardHeader:{color:"#ffffff",backgroundColor:nt.a[500]},root:{}});var Rt=function(){var e=Lt(),t=Object(g.b)();return r.a.createElement("div",{className:e.root},r.a.createElement(u.a,{className:e.card},r.a.createElement(tt.a,{className:e.cardHeader,action:r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,{"arial-label":"Add a new cycle",className:e.action,onClick:function(){return t(Ce())}},r.a.createElement(wt.a,null)),r.a.createElement(Q.a,{"arial-label":"Add a new cycle",className:e.action,onClick:function(){return t(ye())}},r.a.createElement(yt.a,null))),title:"Cycles"}),r.a.createElement(m.a,null,r.a.createElement(Nt,null))))},Bt=Object(i.a)({root:{display:"flex",flexDirection:"row",marginTop:20,padding:"0 16px",alignContent:"space-between",flexWrap:function(e){return e.mqMatches?null:"wrap-reverse"}},cycles:{minWidth:400,flexGrow:1,bottom:0},details:{flexGrow:2,display:"flex",flexDirection:"column",alignItems:"center",alignContent:"stretch",padding:"0 10px"}});var Dt=function(){var e,t,a=Object(Me.a)("(min-width: 800px)"),l=Bt({mqMatches:a}),o=Object(g.b)(),c=Object(g.c)(j),i=Object(g.c)(Le),u=Object(g.c)(Re),m=Object(g.c)(Fe),d=Object(g.c)(j),h=Object(g.c)(Be),f=Object(g.c)(D),p=Object(g.c)(Ne);return Object(n.useEffect)((function(){o(ve(c))}),[]),Object(n.useEffect)((function(){d&&o(ye())}),[d]),c?r.a.createElement(r.a.Fragment,null,!!d&&r.a.createElement("div",{className:l.root},r.a.createElement("div",{className:l.cycles},r.a.createElement(Rt,null)),r.a.createElement("div",{className:l.details},r.a.createElement($e,{lights:null===(e=m[i])||void 0===e?void 0:e.lights,onClick:function(e){return o(Ee({id:[e],shouldSetColor:f[e].indexOf(se(p))>-1}))},selectedLight:u,title:c.model}),r.a.createElement(xt,{config:null===(t=m[i])||void 0===t?void 0:t.lights[u],colors:f[u],onChange:function(e){return o(Oe(e))}}))),h&&r.a.createElement(_e,null)):r.a.createElement(s.a,{to:"/"})},It=a(506),Pt=a(507),zt=(a(446),a(214)),At=a.n(zt),Wt=a(3),Tt=(a(449),{column:5,row:7,chars:{" ":[0,0,0,0,0,0,0],"!":[4,4,4,4,4,0,4],'"':[9,9,18,0,0,0,0],"#":[10,10,31,10,31,10,10],$:[4,15,20,14,5,30,4],"%":[25,25,2,4,8,19,19],"&":[4,10,10,10,21,18,13],"'":[4,4,8,0,0,0,0],"(":[2,4,8,8,8,4,2],")":[8,4,2,2,2,4,8],"*":[4,21,14,31,14,21,4],"+":[0,4,4,31,4,4,0],",":[0,0,0,0,4,4,8],"-":[0,0,0,31,0,0,0],".":[0,0,0,0,0,12,12],"/":[1,1,2,4,8,16,16],0:[14,17,19,21,25,17,14],1:[4,12,4,4,4,4,14],2:[14,17,1,2,4,8,31],3:[14,17,1,6,1,17,14],4:[2,6,10,18,31,2,2],5:[31,16,30,1,1,17,14],6:[6,8,16,30,17,17,14],7:[31,1,2,4,8,8,8],8:[14,17,17,14,17,17,14],9:[14,17,17,15,1,2,12],":":[0,12,12,0,12,12,0],";":[0,12,12,0,12,4,8],"<":[2,4,8,16,8,4,2],"=":[0,0,31,0,31,0,0],">":[8,4,2,1,2,4,8],"?":[14,17,1,2,4,0,4],"@":[14,17,23,21,23,16,15],A:[4,10,17,17,31,17,17],B:[30,17,17,30,17,17,30],C:[14,17,16,16,16,17,14],D:[30,9,9,9,9,9,30],E:[31,16,16,28,16,16,31],F:[31,16,16,31,16,16,16],G:[14,17,16,16,19,17,15],H:[17,17,17,31,17,17,17],I:[14,4,4,4,4,4,14],J:[31,2,2,2,2,18,12],K:[17,18,20,24,20,18,17],L:[16,16,16,16,16,16,31],M:[17,27,21,17,17,17,17],N:[17,17,25,21,19,17,17],O:[14,17,17,17,17,17,14],P:[30,17,17,30,16,16,16],Q:[14,17,17,17,21,18,13],R:[30,17,17,30,20,18,17],S:[14,17,16,14,1,17,14],T:[31,4,4,4,4,4,4],U:[17,17,17,17,17,17,14],V:[17,17,17,17,17,10,4],W:[17,17,17,21,21,27,17],X:[17,17,10,4,10,17,17],Y:[17,17,10,4,4,4,4],Z:[31,1,2,4,8,16,31],"[":[14,8,8,8,8,8,14],"\\":[16,16,8,4,2,1,1],"]":[14,2,2,2,2,2,14],"^":[4,10,17,0,0,0,0],_:[0,0,0,0,0,0,31],"`":[4,4,2,0,0,0,0],a:[0,14,1,13,19,19,13],b:[16,16,16,28,18,18,28],c:[0,0,0,14,16,16,14],d:[1,1,1,7,9,9,7],e:[0,0,14,17,31,16,15],f:[6,9,8,28,8,8,8],g:[14,17,19,13,1,1,14],h:[16,16,16,22,25,17,17],i:[0,4,0,12,4,4,14],j:[2,0,6,2,2,18,12],k:[16,16,18,20,24,20,18],l:[12,4,4,4,4,4,4],m:[0,0,10,21,21,17,17],n:[0,0,22,25,17,17,17],o:[0,0,14,17,17,17,14],p:[0,28,18,18,28,16,16],q:[0,7,9,9,7,1,1],r:[0,0,22,25,16,16,16],s:[0,0,15,16,14,1,30],t:[8,8,28,8,8,9,6],u:[0,0,17,17,17,19,13],v:[0,0,17,17,17,10,4],w:[0,0,17,17,21,21,10],x:[0,0,17,10,4,10,17],y:[0,17,17,15,1,17,14],z:[0,0,31,2,4,8,31],"{":[6,8,8,16,8,8,6],"|":[4,4,4,0,4,4,4],"}":[12,2,2,1,2,2,12],"~":[8,21,2,0,0,0,0],DEL:[31,31,31,31,31,31,31]}}),Gt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,255,0],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=[],r=e.split("");return Object(le.a)(Array(Tt.column*e.length+e.length*a).keys()).forEach((function(e){n[e]=[],a&&e%(Tt.column+a)===Tt.column+a-1?Object(le.a)(Array(Tt.row).keys()).map((function(){return n[e].push([0,0,0])})):Object(le.a)(Array(Tt.row).keys()).forEach((function(l){var o=r[Math.floor(e/(Tt.column+a))];n[e].push("1"===Tt.chars[o][l].toString(2).padStart(" "!==o?5:1,0).split("")[e%(Tt.column+a)]?t:[0,0,0])}))})),n},Ht=Object(i.a)({root:{backgroundColor:function(e){return e.backgroundColor||"#565656"},borderRadius:4,borderColor:"#333",display:"inline-block",padding:5,margin:5}});var Mt=function(e){var t=e.backgroundColor,a=e.column,n=(e.hasGlow,e.pixelColor,e.pixelCornerRadius),l=e.pixelSize,o=void 0===l?10:l,c=e.pixelStatus,i=void 0===c?[]:c,s=e.row,u=e.scrollSpeed,m=void 0===u?1e3:u,d=e.space,h=void 0===d?2:d,f=Ht({backgroundColor:t}),g=window.innerWidth-100<(o+h)*a?(window.innerWidth-100)/((o+h)*a):1,p=(o+h)*g,b=r.a.useState(0),v=Object(q.a)(b,2),x=(v[0],v[1]);r.a.useEffect((function(){var e;return i.forEach((function(e,t){e.pixels.length&&e.pixels.length>a&&(e.pixels=[].concat(Object(le.a)(e.pixels),Object(le.a)(new Array(a).keys())))})),e=setInterval((function(){i.forEach((function(e,t){e.pixels.length&&e.pixels.length>a&&i[t].pixels.push(i[t].pixels.shift())})),x((function(e){return e+1}))}),m),function(){e&&clearInterval(e)}}),[i]);var E=function(e,t){var a="rgba(0, 0, 0, 0.1)";return i.forEach((function(n){t>=n.x&&e>=n.y&&n.pixels[t-n.x]&&n.pixels[t-n.x][e-n.y]&&"000"!==n.pixels[t-n.x][e-n.y].join("")&&(a="rgba(".concat(n.pixels[t-n.x][e-n.y],")"))})),a};return r.a.createElement("div",{className:f.root},r.a.createElement(Je.Stage,{width:p*a,height:p*s},r.a.createElement(Je.Layer,{x:0,y:0},Object(le.a)(Array(s).keys()).map((function(e){return Object(le.a)(Array(a).keys()).map((function(t){return r.a.createElement(Je.Rect,{key:"".concat(e,"-").concat(t),cornerRadius:n||0,fill:E(e,t),x:h+p*t,y:h+p*e,width:o*g,height:o*g})}))})).flat())))},Jt=function(e,t){if(!e||""===e.trim())return[];var a=document.createElement("canvas"),n=Object(re.a)({},{fontFamily:"Open Sans",fontSize:14,fontStyle:"bold",textColor:"#00ff00"},{},t),r="".concat(n.fontStyle," ").concat(n.fontSize,"px ").concat(n.fontFamily);a.width=function(e,t){var a=document.createElement("canvas").getContext("2d");return a.font=t,a.measureText(e).width}(e,r).toFixed(0),a.height=16;var l=a.getContext("2d");return l.textBaseline="middle",l.fillStyle=n.backgroundColor,l.fillRect(0,0,a.width,a.height),l.font=r,l.fillStyle=n.textColor,l.fillText(e,0,8),function(e){for(var t=[],a=0;a<e.width;a+=1){for(var n=[],r=0;r<e.height;r+=1){var l=r*e.width*4+4*a;n.push([e.data[l]<100?0:e.data[l],e.data[l+1]<100?0:e.data[l+1],e.data[l+2]<100?0:e.data[l+2]])}t.push(n)}return t}(l.getImageData(0,0,a.width,a.height))},Ut=a(504),Vt=a(517),$t=a(213),qt=a.n($t),Yt=a(215),Kt=(a(451),Object(i.a)((function(e){return{emojiIcon:{fontSize:30},emojiPicker:{position:"absolute",zIndex:999},formControl:{margin:e.spacing(1),minWidth:120},toolbar:{flexWrap:"wrap",padding:"unset"}}}))),Qt=function(e){var t=e.addEmoji,a=void 0===t?function(){return null}:t,n=e.className,l=e.fontFamily,o=void 0===l?"Open Sans":l,c=e.fontSize,i=void 0===c?14:c,s=e.fontStyle,u=void 0===s?"bold":s,m=e.onChange,d=void 0===m?function(){return null}:m,h=Kt(),f=r.a.useState({fontFamily:o,fontSize:i,fontStyle:u}),g=Object(q.a)(f,2),p=g[0],b=g[1],v=r.a.useState(!1),x=Object(q.a)(v,2),E=x[0],y=x[1],C=function(e){return function(t){b(Object(re.a)({},p,Object(et.a)({},e,t.target.value))),d(Object(re.a)({},p,Object(et.a)({},e,t.target.value)))}};return r.a.createElement(K.a,{className:Object(Wt.a)(h.toolbar,n)},r.a.createElement(Ut.a,{variant:"outlined",className:h.formControl},r.a.createElement(Vt.a,{id:"font-family"},"Font"),r.a.createElement(G.a,{edge:"start",labelId:"font-family",label:"Font",onChange:C("fontFamily"),value:p.fontFamily},r.a.createElement(H.a,{value:"Roboto"},"Roboto"),r.a.createElement(H.a,{value:"Roboto Mono"},"Roboto Mono"),r.a.createElement(H.a,{value:"Open Sans"},"Open Sans"),r.a.createElement(H.a,{value:"Baloo Bhaina 2"},"Baloo Bhaina"),r.a.createElement(H.a,{value:"Montserrat"},"Montserrat"),r.a.createElement(H.a,{value:"Titillium Web"},"Titillium Web"),r.a.createElement(H.a,{value:"Cairo"},"Cairo"))),r.a.createElement(Ut.a,{variant:"outlined",className:h.formControl},r.a.createElement(Vt.a,{id:"font-size"},"Size"),r.a.createElement(G.a,{labelId:"font-size",label:"Size",onChange:C("fontSize"),value:p.fontSize},r.a.createElement(H.a,{value:6}," 6 px"),r.a.createElement(H.a,{value:8}," 8 px"),r.a.createElement(H.a,{value:10}," 10 px"),r.a.createElement(H.a,{value:12}," 12 px"),r.a.createElement(H.a,{value:14}," 14 px"),r.a.createElement(H.a,{value:16}," 16 px"))),r.a.createElement(Q.a,{"arial-label":"Emoji",onClick:function(){return y(!E)}},r.a.createElement(qt.a,{className:h.emojiIcon})),E&&r.a.createElement("div",{className:h.emojiPicker},r.a.createElement(Yt.a,{onSelect:function(e){y(!1),a(e)},style:{width:"unset",maxWidth:345}})))},Xt=Object(i.a)({root:{alignItems:"center",display:"flex",flexDirection:"column"},matrixLCD:{marginTop:20,textAlign:"center"},card:{width:"60vw",marginTop:20},cardContent:{display:"flex",flexDirection:"column"},row:{alignItems:"center",display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",margin:"5px 0"},textField:{margin:"5px 5px"},text:{margin:"5px 5px","& input":{fontFamily:function(e){return e.isGraphical&&e.style&&e.style.fontFamily||"Roboto"},fontSize:function(e){return e.style&&e.style.fontSize||16}}},fullwidth:{width:"100%"},colorView:{background:function(e){return"rgba(".concat(Object.values(e.ledColor),")")},height:25,width:25}});var Zt=function(){var e=Object(g.b)(),t=Object(g.c)(We),a=Xt(t),n=t.isGraphical?[{x:0,y:0,pixels:t.imageData}]:function(e){var t=e.firstLine,a=e.ledColor,n=e.secondLine,r=[],l=Object.values(a).splice(0,3);return t&&""!==t&&r.push({x:0,y:0,pixels:Gt(t,l,1)}),n&&""!==n&&r.push({x:0,y:8,pixels:Gt(n,l,1)}),r}(t),l=r.a.useState(!1),o=Object(q.a)(l,2),c=o[0],i=o[1],s=r.a.useState(),d=Object(q.a)(s,2),h=d[0],p=d[1],b=function(){return i(!c)},v=function(a){return e(Ae(Object(re.a)({},t,Object(et.a)({},a.target.name,+a.target.value))))},x=function(a){var n;e(Ae(Object(re.a)({},t,(n={},Object(et.a)(n,a.target.name,a.target.value),Object(et.a)(n,"imageData",Jt(a.target.value)),n))))};return r.a.createElement("div",{className:a.root},r.a.createElement("div",{className:a.matrixLCD},r.a.createElement(Mt,{column:t.column,pixelColor:"rgba(".concat(Object.values(t.ledColor),")"),pixelCornerRadius:t.pixelCornerRadius,pixelStatus:n,scrollSpeed:t.scrollSpeed,row:t.row})),r.a.createElement(u.a,{className:a.card},r.a.createElement(tt.a,{title:"Message Board Setting"}),r.a.createElement(m.a,{className:a.cardContent},r.a.createElement("div",{className:a.row},r.a.createElement(at.a,{className:a.textField,label:"Row",inputProps:{max:200,min:0},name:"row",onChange:v,size:"small",type:"number",value:t.row,variant:"outlined"}),r.a.createElement(At.a,null),r.a.createElement(at.a,{className:a.textField,label:"Column",inputProps:{max:200,min:0},name:"column",onChange:v,size:"small",type:"number",value:t.column,variant:"outlined"}),r.a.createElement(at.a,{className:a.textField,label:"Pixel corner",inputProps:{max:360,min:0},name:"pixelCornerRadius",onChange:v,size:"small",type:"number",value:t.pixelCornerRadius,variant:"outlined"}),r.a.createElement(at.a,{className:a.textField,label:"Scroll Interval",inputProps:{max:1e3,min:0},InputProps:{endAdornment:r.a.createElement(It.a,{position:"end"},"ms")},name:"scrollSpeed",onChange:v,size:"small",type:"number",value:t.scrollSpeed,variant:"outlined"})),r.a.createElement("div",{className:a.row},r.a.createElement(at.a,{className:a.textField,label:"Red",inputProps:{max:255,min:0},name:"red",onChange:v,size:"small",type:"number",value:t.ledColor.r,variant:"outlined",disabled:!0}),r.a.createElement(at.a,{className:a.textField,label:"Green",inputProps:{max:255,min:0},name:"green",onChange:v,size:"small",type:"number",value:t.ledColor.g,variant:"outlined",disabled:!0}),r.a.createElement(at.a,{className:a.textField,label:"Blue",inputProps:{max:255,min:0},name:"blue",onChange:v,size:"small",type:"number",value:t.ledColor.b,variant:"outlined",disabled:!0}),r.a.createElement(f.a,{color:"default",onClick:b,variant:"contained"},r.a.createElement("span",{className:a.colorView})),c&&r.a.createElement(bt,{onClick:b,onChange:function(a){var n=Object(re.a)({},t.style,{textColor:a.hex});e(Ae(Object(re.a)({},t,{ledColor:a.rgb,style:n,imageData:Jt(t.firstLine,n)})))},value:t.ledColor})),r.a.createElement("div",{className:a.row},r.a.createElement(Pt.a,{control:r.a.createElement(T.a,{checked:t.isGraphical,onChange:function(a){var n={firstLine:a.target.checked?"Hello World \u26d4 \u0633\u0644\u0627\u0645 \u062f\u0646\u06cc\u0627 \ud83d\ude01":"Hello World",imageData:a.target.checked?Jt("Hello World \u26d4 \u0633\u0644\u0627\u0645 \u062f\u0646\u06cc\u0627 \ud83d\ude01"):null};e(Ae(Object(re.a)({},t,{},n,{isGraphical:a.target.checked})))},name:"isGraphical",color:"primary"}),label:"Graphical fonts"})),r.a.createElement("div",{className:a.row},t.isGraphical&&r.a.createElement(Qt,{className:a.fullwidth,onChange:function(a){p(a),e(Ae(Object(re.a)({},t,{style:a,imageData:Jt(t.firstLine,a)})))},addEmoji:function(a){return e(Ae(Object(re.a)({},t,{firstLine:"".concat(t.firstLine," ").concat(a.native),imageData:Jt("".concat(t.firstLine," ").concat(a.native),h)})))}}),r.a.createElement(at.a,{className:Object(Wt.a)([a.text,a.fullwidth]),label:"First Line",name:"firstLine",onChange:x,size:"small",type:"text",value:t.firstLine,variant:"outlined"})),!t.isGraphical&&r.a.createElement("div",{className:a.row},r.a.createElement(at.a,{className:Object(Wt.a)([a.textField,a.fullwidth]),label:"Second Line",name:"secondLine",onChange:x,size:"small",type:"text",value:t.secondLine,variant:"outlined"})),r.a.createElement("canvas",{className:a.canvas,id:"hidden-canvas"},"Your browser doesn't support canvas"))))},_t=(a(452),a(508)),ea=Object(i.a)({root:{display:"flex",flexDirection:"row",justifyContent:"center",marginTop:20},card:{width:"60vw"},cardContent:{textAlign:"center"},button:{minHeight:60}});var ta=function(){var e=ea(),t=Object(s.g)(),a=function(e){return function(){return t.push(e)}};return r.a.createElement("div",{className:e.root},r.a.createElement(u.a,{className:e.card},r.a.createElement(tt.a,{title:"Select The Device"}),r.a.createElement(m.a,{className:e.cardContent},r.a.createElement(_t.a,{className:e.buttonGroup,orientation:"vertical",color:"primary"},r.a.createElement(f.a,{className:e.button,onClick:a("/lightbars")},"Lightbars Configurator"),r.a.createElement(f.a,{className:e.button,onClick:a("/message-board")},"Message Board Configurator")))))},aa=a(146),na=a.n(aa),ra=a(513),la=a(509),oa=Object(i.a)({root:{display:"flex",flexFlow:"column"},lightbar:{margin:"20px 10px 0 10px",textAlign:"center",display:"inline-block","& div":{}},lightbarContent:{display:"flex",justifyContent:"center"},settings:{marginTop:10,display:"flex",flexDirection:"column",width:600,alignSelf:"center"},selectionButtons:{display:"flex",flexWrap:"wrap",justifyContent:"center","& button":{margin:5}},colors:{display:"flex",flexWrap:"wrap",justifyContent:"center"},checkbox:{width:20,height:20,borderRadius:50,border:"2.5px solid rgba(0, 0, 0, 0.25)"},selectedCheckbox:{width:20,height:20,border:"2.5px solid",borderRadius:50,borderColor:"rgba(0, 0, 0, 0.75)"},red:{backgroundColor:"#FF0000"},green:{backgroundColor:"#00FF00"},blue:{backgroundColor:"#0000FF"},amber:{backgroundColor:"#FFBF00"},white:{backgroundColor:"#FFFFFF"},cardActions:{justifyContent:"flex-end"}}),ca=function(){var e=oa(),t=Object(s.g)(),a=Object(g.c)(j),n=Object(g.b)(),l=Object(g.c)(B),o=r.a.useState([]),c=Object(q.a)(o,2),i=c[0],d=c[1],p=r.a.useState(!1),b=Object(q.a)(p,2),v=b[0],x=b[1],E=r.a.useState(l),y=Object(q.a)(E,2),C=y[0],w=y[1],O=Object(g.c)(D);if(r.a.useEffect((function(){n(N(a))}),[]),!a)return r.a.createElement(s.a,{to:"/lightbars"});var S,k=fe(a),F=function(e){console.log(e);var t=na.a.cloneDeep(O);e.forEach((function(e){t[e]=[]})),n(R(t))},L=function(e){return function(){var t=na.a.cloneDeep(O);i.forEach((function(a){t[a].indexOf(e)<0?t[a].push(e):t[a].splice(t[a].indexOf(e),1)})),n(R(t))}},I=function(){return t.push("/lightbar")};return r.a.createElement("div",{className:e.root},r.a.createElement(u.a,{className:e.lightbar},r.a.createElement(m.a,{className:e.lightbarContent},r.a.createElement($e,{lights:k,onClick:function(e){var t=i.indexOf(e);t>-1?i.splice(t,1):i.push(e),d(Object(le.a)(i))},overlays:O,selectedLight:i}))),r.a.createElement(u.a,{className:e.settings},r.a.createElement(m.a,null,r.a.createElement("div",{className:e.selectionButtons},r.a.createElement(f.a,{variant:"outlined",onClick:function(){var e=Object(le.a)(new Array(a.front).keys());d(e),F(e)}},"All Front"),r.a.createElement(f.a,{variant:"outlined",onClick:function(){var e=Object(le.a)(new Array(a.rear).keys()).map((function(e){return e+a.front+3}));d(e),F(e)}},"All Rear"),r.a.createElement(f.a,{variant:"outlined",onClick:function(){var e=Object(le.a)(new Array(3).keys()).map((function(e){return e+a.front}));d(e),F(e)}},"All Passenger Corner"),r.a.createElement(f.a,{variant:"outlined",onClick:function(){var e=Object(le.a)(new Array(3).keys()).map((function(e){return e+a.front+a.rear+3}));d(e),F(e)}},"All Driver Corner")),r.a.createElement("div",{className:e.colors},r.a.createElement(ra.a,{icon:r.a.createElement("span",{className:Object(Wt.a)(e.checkbox,e.red)}),checked:(S="#FF0000",!(1!==i.length||!O[i[0]])&&O[i[0]].indexOf(S)>-1),checkedIcon:r.a.createElement("span",{className:Object(Wt.a)(e.selectedCheckbox,e.red)}),onChange:L("#FF0000")}),r.a.createElement(ra.a,{icon:r.a.createElement("span",{className:Object(Wt.a)(e.checkbox,e.green)}),checkedIcon:r.a.createElement("span",{className:Object(Wt.a)(e.selectedCheckbox,e.green)}),onChange:L("#00FF00")}),r.a.createElement(ra.a,{icon:r.a.createElement("span",{className:Object(Wt.a)(e.checkbox,e.blue)}),checkedIcon:r.a.createElement("span",{className:Object(Wt.a)(e.selectedCheckbox,e.blue)}),onChange:L("#0000FF")}),r.a.createElement(ra.a,{icon:r.a.createElement("span",{className:Object(Wt.a)(e.checkbox,e.amber)}),checkedIcon:r.a.createElement("span",{className:Object(Wt.a)(e.selectedCheckbox,e.amber)}),onChange:L("#FFBF00")}),r.a.createElement(ra.a,{icon:r.a.createElement("span",{className:Object(Wt.a)(e.checkbox,e.white)}),checkedIcon:r.a.createElement("span",{className:Object(Wt.a)(e.selectedCheckbox,e.white)}),onChange:L("#FFFFFF")}))),r.a.createElement(h.a,{className:e.cardActions},r.a.createElement(f.a,{onClick:function(){return t.goBack()},variant:"outlined"},"Back"),r.a.createElement(f.a,{color:"primary",onClick:function(){return x(!0)},variant:"contained"},"Next"))),r.a.createElement(Ye.a,{open:v,onClose:function(){return x(!1)}},r.a.createElement(Ke.a,null,"Save Schema"),r.a.createElement(Qe.a,null,r.a.createElement(la.a,null,"If you want to save the schema to use it later, please enter a name for it."),r.a.createElement(at.a,{autoFocus:!0,fullWidth:!0,id:"schemaName",label:"Schema Name",margin:"dense",value:"create-new-schema"===C?"":C,onChange:function(e){return w(e.target.value)}})),r.a.createElement(Xe.a,null,r.a.createElement(f.a,{color:"primary",onClick:I},"Continue without save"),r.a.createElement(f.a,{color:"primary",onClick:function(){var e=JSON.parse(localStorage.getItem("lightbar-schema")||"{}");e[C]=O,localStorage.setItem("lightbar-schema",JSON.stringify(e)),I()},disabled:!C||"create-new-schema"===C},"Save and Continue"))))},ia=Object(i.a)({root:{}});var sa=function(){var e=ia();return r.a.createElement("div",{className:e.root},r.a.createElement(He,null),r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/lightbars"},r.a.createElement($,null)),r.a.createElement(s.b,{path:"/lightbar/schema"},r.a.createElement(ca,null)),r.a.createElement(s.b,{path:"/lightbar"},r.a.createElement(Dt,null)),r.a.createElement(s.b,{path:"/message-board"},r.a.createElement(Zt,null)),r.a.createElement(s.b,{path:"/"},r.a.createElement(ta,null))))},ua=Object(E.a)({reducer:{lightbarSchema:I,lightbarSelector:S,lightbar:De,scrollingBoard:Te}}),ma=a(216),da=Object(ma.a)();Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ha=a(58);o.a.render(r.a.createElement(c.a,{theme:da},r.a.createElement(g.a,{store:ua},r.a.createElement(ha.a,{basename:"/"},r.a.createElement(sa,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[225,1,2]]]);
//# sourceMappingURL=main.ad45eb16.chunk.js.map