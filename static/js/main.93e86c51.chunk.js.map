{"version":3,"sources":["features/LightbarSelector/constants.js","features/LightbarSelector/lightbar-selector-slice.js","features/LightbarSelector/lightbar-list.js","features/LightbarSelector/color-schema-list.js","features/LightbarSelector/index.js","app/utils.js","features/Lightbar/ligther-slice.js","features/ScrollingBoard/helpers.js","features/ScrollingBoard/scrolling-board-slice.js","app/header.js","features/LightbarPreview/index.js","features/LightbarPreview/live-preview.js","features/Lightbar/LightbarSetting/schema-color-picker.js","features/Lightbar/LightbarSetting/color-picker.js","features/Lightbar/LightbarSetting/index.js","features/Lightbar/Cycles/cycle-list.js","features/Lightbar/Cycles/index.js","features/Lightbar/index.js","features/MatrixLCD/index.js","features/ScrollingBoard/font-toolbar.js","features/ScrollingBoard/index.js","features/Platforms/index.js","features/LightbarSchema/lightbar-shema-slice.js","features/LightbarSchema/index.js","App.js","app/store.js","app/theme.js","serviceWorker.js","index.js"],"names":["LIGHTBARS","model","front","rear","COLOR_SCHEMA","title","schema","slice","createSlice","name","initialState","selectedModel","selectedColorSchema","hasGreen","reducers","selectLightbar","state","action","payload","selectColorSchema","setHasGreen","actions","getLightbar","lightbarSelector","getColorSchema","getHasGreen","useStyles","makeStyles","list","border","borderRadius","marginTop","marginBottom","maxHeight","overflow","ListItems","onClick","selected","map","lightbar","ListItem","key","button","ListItemText","primary","secondary","LightbarList","classes","useSelector","console","log","dispatch","useDispatch","List","className","theme","select","width","spacing","switch","withStyles","switchBase","color","green","backgroundColor","checked","track","Switch","ColorSchemaList","selectedSchema","Select","value","onChange","e","target","displayEmpty","inputProps","MenuItem","root","display","flexDirection","alignContent","justifyContent","minHeight","card","subtitle","fontSize","LightbarSelector","history","useHistory","selectedLightbar","Card","CardContent","Typography","variant","CardActions","Button","disabled","push","rgbToHex","Object","values","v","hex","Number","toString","length","toHex","join","createBinaryBlob","cycles","lightLength","lights","buffer","ArrayBuffer","dv","DataView","setUint8","setUint16","index","forEach","c","l","r","a","toFixed","g","b","Blob","type","createMessageBoardBinaryBlob","data","Math","ceil","i","binaryIndex","byteLength","getUint8","createJSONBlob","JSON","stringify","saveFile","blob","FileSaver","saveAs","getDefaultLights","Array","keys","selectedCycle","selectedLight","showPreview","latestSelectedColor","setLightbar","setSelectedCycle","setSelectedLight","addCycle","duplicateCycle","deleteCycle","splice","setLightSetting","setInitialState","setShowPreview","saveAsFile","Date","getTime","getCycles","getSelectedCycle","getSelectedLight","getShowPreview","convertTextToBitmap","text","userStyle","trim","canvas","document","createElement","style","fontFamily","fontStyle","textColor","font","ctx","getContext","measureText","getTextWidth","height","textBaseline","fillStyle","fillRect","fillText","dataImage","col","pixel","convertToRowBaseArray","getImageData","column","firstLine","imageData","ledColor","pixelCornerRadius","pixelSize","row","secondLine","scrollSpeed","spaceBetweenPixels","setColumn","setImageData","setFirstLine","setLedColor","setPixelCornerRadius","setRow","setSecondLine","setScrollSpeed","setBoardState","exportData","getBoardState","scrollingBoard","menuButton","marginRight","flexGrow","previewButton","borderColor","Header","location","useLocation","useState","showExport","showAppbarButtons","setShowAppbarButton","React","anchorEl","setAnchorEl","onCloseContexMenu","isJSON","pathname","search","useEffect","AppBar","position","Toolbar","IconButton","edge","aria-label","replace","startIcon","currentTarget","Menu","id","keepMounted","open","Boolean","onClose","props","marginLeft","maxWidth","minWidth","Light","fill","getStrokeColor","rotation","scale","shadowBlur","stroke","x","y","cornerRadius","align","verticalAlign","LightbarPreview","containerRef","useRef","originalWidth","lightbarWidth","onLightClick","getColor","ref","LivePreview","useTheme","fullScreen","useMediaQuery","breakpoints","down","visibleCycle","setVisibleCycle","interval","setInterval","clearInterval","Dialog","aria-labelledby","DialogTitle","DialogContent","SchemaColorPicker","onSwatchHover","colors","triangle","styles","passedStyles","reactCSS","merge","background","boxShadow","body","padding","label","borderStyle","borderWidth","triangleShadow","hash","float","alignItems","input","outline","boxSizing","paddingLeft","swatch","margin","clear","top","left","right","handleChange","hexcode","isValidHex","source","onHover","focusStyle","defaultProps","ColorWrap","zIndex","pallete","innerPallete","bottom","ColorPicker","presetColors","disableAlpha","cardHeader","blue","cardContent","colorInfo","colorView","prop","LightbarSetting","config","showColorPicker","setShowColorPicker","onValueChange","setColorPickerState","CardHeader","rgb","TextField","max","min","size","item","Cycle","onDelete","ListItemSecondaryAction","arial-label","CycleList","Cycles","flexWrap","mqMatches","details","Lightbar","colorSchema","change","to","MatrixLCD","hasGlow","pixelColor","pixelStatus","space","window","innerWidth","pixelRoom","setScroll","intervalId","pixels","status","shift","getPixelColor","flat","emojiIcon","emojiPicker","formControl","toolbar","FontToolbar","addEmoji","setStyles","isEmojiPickerVisible","setEmojiPickerVisibility","onFontChange","clsx","FormControl","InputLabel","labelId","onSelect","emoji","matrixLCD","textAlign","textField","fullwidth","ScrollingBoard","configs","textStyles","setTextStyle","InputProps","endAdornment","InputAdornment","native","Platforms","route","url","ButtonGroup","buttonGroup","orientation","getDefaultSchema","setName","setSchema","getName","lightbarSchema","getSchema","LightbarSchema","dispose","App","path","store","configureStore","reducer","lightbarSchemaReducer","lightbarSelectorReducer","lightbarReducer","scrollingBoardReducer","createMuiTheme","hostname","match","ReactDOM","render","basename","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.93e86c51.chunk.js","sourcesContent":["export const LIGHTBARS = [\n  {\n    model: 'SL-24',\n    front: 2,\n    rear: 2,\n  },\n  {\n    model: 'SL-30',\n    front: 3,\n    rear: 3,\n  },\n  {\n    model: 'SL-36',\n    front: 4,\n    rear: 4,\n  },\n  {\n    model: 'SL-42',\n    front: 5,\n    rear: 5,\n  },\n  {\n    model: 'SL-48',\n    front: 6,\n    rear: 6,\n  },\n  {\n    model: 'SL-54',\n    front: 7,\n    rear: 7,\n  },\n  {\n    model: 'SL-60',\n    front: 8,\n    rear: 8,\n  },\n  {\n    model: 'SL-66',\n    front: 9,\n    rear: 9,\n  },\n  {\n    model: 'SL-72',\n    front: 10,\n    rear: 10,\n  },\n  {\n    model: 'SL-78',\n    front: 11,\n    rear: 11,\n  },\n  {\n    model: 'SL-84',\n    front: 12,\n    rear: 12,\n  },\n  {\n    model: 'SL-90',\n    front: 13,\n    rear: 13,\n  },\n  {\n    model: 'SL-96',\n    front: 14,\n    rear: 14,\n  },\n];\n\nexport const COLOR_SCHEMA = [\n  {\n    title: 'Amber',\n    schema: ['#FFBF00', '#000000'],\n  },\n  {\n    title: 'Red',\n    schema: ['#FF0000', '#000000'],\n  },\n  {\n    title: 'Green',\n    schema: ['#00FF00', '#000000'],\n  },\n  {\n    title: 'Blue',\n    schema: ['#0000FF', '#000000'],\n  },\n  {\n    title: 'Amber, Red',\n    schema: ['#FFBF00', '#FF0000', '#000000'],\n  },\n  {\n    title: 'Amber, Green',\n    schema: ['#FFBF00', '#00FF00', '#000000'],\n  },\n  {\n    title: 'Amber, Blue',\n    schema: ['#FFBF00', '#0000FF', '#000000'],\n  },\n  {\n    title: 'Red, Green',\n    schema: ['#FF0000', '#00FF00', '#000000'],\n  },\n  {\n    title: 'Red, Blue',\n    schema: ['#FF0000', '#0000FF', '#000000'],\n  },\n  {\n    title: 'Green, Blue',\n    schema: ['#00FF00', '#0000FF', '#000000'],\n  },\n  {\n    title: 'Amber, Red, Green',\n    schema: ['#FFBF00', '#FF0000', '#00FF00', '#000000'],\n  },\n  {\n    title: 'Amber, Red, Blue',\n    schema: ['#FFBF00', '#FF0000', '#0000FF', '#000000'],\n  },\n  {\n    title: 'Amber, Green, Blue',\n    schema: ['#FFBF00', '#00FF00', '#0000FF', '#000000'],\n  },\n  {\n    title: 'Amber, Red, Green, Blue',\n    schema: ['#FFBF00', '#FF0000', '#00FF00', '#0000FF', '#000000'],\n  },\n  {\n    title: 'Full Color (RGB)',\n    schema: [],\n  },\n];\n","import { createSlice } from '@reduxjs/toolkit';\n\nexport const slice = createSlice({\n  name: 'lightbarSelector',\n  initialState: {\n    selectedModel: null,\n    selectedColorSchema: null,\n    hasGreen: false,\n  },\n  reducers: {\n    selectLightbar: (state, action) => {\n      state.selectedModel = action.payload;\n    },\n    selectColorSchema: (state, action) => {\n      state.selectedColorSchema = action.payload;\n    },\n    setHasGreen: (state, action) => {\n      state.hasGreen = action.payload;\n    },\n  },\n});\n\nexport const { selectLightbar, selectColorSchema, setHasGreen } = slice.actions;\n\nexport const getLightbar = (state) => state.lightbarSelector.selectedModel;\nexport const getColorSchema = (state) =>\n  state.lightbarSelector.selectedColorSchema;\nexport const getHasGreen = (state) => state.lightbarSelector.hasGreen;\n\nexport default slice.reducer;\n","import React from 'react';\nimport { List, makeStyles, ListItem, ListItemText } from '@material-ui/core';\n\nimport { LIGHTBARS } from './constants';\nimport { getLightbar, selectLightbar } from './lightbar-selector-slice';\nimport {useSelector, useDispatch} from 'react-redux';\n\nconst useStyles = makeStyles({\n  list: {\n    border: 'solid 1px lightgray',\n    borderRadius: 3,\n    marginTop: 10,\n    marginBottom: 10,\n    maxHeight: 150,\n    overflow: 'auto',\n  }\n});\n\nconst ListItems = ({ onClick, selected = null }) => LIGHTBARS.map(lightbar => (\n  <ListItem\n    selected={ selected?.model === lightbar.model }\n    key={lightbar.model}\n    onClick={() => onClick(lightbar)}\n    button\n  >\n    <ListItemText\n      primary={lightbar.model}\n      secondary={`Front ${lightbar.front} / Rear ${lightbar.rear}`}\n    />\n  </ListItem>\n));\n\nfunction LightbarList() {\n  const classes = useStyles();\n  const selectedModel = useSelector(getLightbar);\n  console.log(selectedModel);\n  const dispatch = useDispatch();\n  const onClick = (model) => dispatch(selectLightbar(model));\n\n  return (\n    <List className={classes.list} >\n      <ListItems\n        onClick={onClick}\n        selected={selectedModel}\n      />\n    </List>\n  );\n}\n\nexport default LightbarList;\n","import React from 'react';\nimport {COLOR_SCHEMA} from './constants';\nimport {Select, makeStyles, MenuItem, Switch, FormGroup, FormControlLabel, withStyles} from '@material-ui/core';\nimport {useDispatch, useSelector} from 'react-redux';\nimport {selectColorSchema, getColorSchema, getHasGreen, setHasGreen} from './lightbar-selector-slice';\nimport {green} from '@material-ui/core/colors';\n\n\nconst useStyles = makeStyles((theme) => ({\n  select: {\n    width: '100%',\n    marginTop: theme.spacing(2),\n  },\n  switch: {\n    marginTop: theme.spacing(2),\n  },\n}));\n\nconst GreenSwitch = withStyles({\n  switchBase: {\n    color: green[300],\n    '&$checked': {\n      color: green[500],\n    },\n    '&$checked + $track': {\n      backgroundColor: green[500],\n    },\n  },\n  checked: {},\n  track: {},\n})(Switch);\n\nfunction ColorSchemaList() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const selectedSchema = useSelector(getColorSchema);\n  const hasGreen = useSelector(getHasGreen);\n\n  const onChange = e => dispatch(selectColorSchema(e.target.value));\n  const onGreenSwithChange = e => dispatch(setHasGreen(e.target.checked));\n\n  return (\n    <>\n      <Select\n        value={selectedSchema || ''}\n        onChange={onChange}\n        displayEmpty\n        className={classes.select}\n        inputProps={{ 'aria-label': 'Without label' }}\n      >\n        <MenuItem value={null}>\n          <em>---</em>\n        </MenuItem>\n        {\n          COLOR_SCHEMA.map(schema =>\n            <MenuItem\n              key={schema.title}\n              value={schema}\n            >\n                {schema.title}\n            </MenuItem>\n          )\n        }\n      </Select>\n    { /*\n      <FormGroup>\n        <FormControlLabel\n          className={classes.switch}\n          control={\n            <GreenSwitch\n              name=\"hasGreen\"\n              onChange={onGreenSwithChange}\n              value={hasGreen}\n            />\n          }\n          label=\"Includes Green Light\"\n        />\n      </FormGroup>\n      */\n    }\n    </>\n  );\n}\n\nexport default ColorSchemaList;\n","import React from 'react';\nimport Card from '@material-ui/core/Card';\nimport {\n  makeStyles,\n  Typography,\n  CardContent,\n  CardActions,\n  Button,\n} from '@material-ui/core';\nimport { useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport LightbarList from './lightbar-list';\nimport { getLightbar, getColorSchema } from './lightbar-selector-slice';\nimport ColorSchemaList from './color-schema-list';\n\nconst useStyles = makeStyles({\n  root: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignContent: 'stretch',\n    justifyContent: 'center',\n    minHeight: 400,\n    marginTop: 20,\n  },\n  card: {\n    width: 500,\n  },\n  subtitle: {\n    fontSize: 14,\n  },\n  button: {\n    justifyContent: 'flex-end',\n  },\n});\n\nexport function LightbarSelector() {\n  const classes = useStyles();\n  const history = useHistory();\n  const selectedLightbar = useSelector(getLightbar);\n  const selectedColorSchema = useSelector(getColorSchema);\n  const routeToLightbar = () => history.push('/lightbar');\n  // const routeToLightbar = () => history.push('/lightbar/schema');\n\n  return (\n    <div className={classes.root}>\n      <Card className={classes.card}>\n        <CardContent>\n          <Typography variant=\"h6\">Lightbars</Typography>\n          <Typography className={classes.subtitle}>\n            Select a lightbar model to configure\n          </Typography>\n          <LightbarList />\n          <Typography variant=\"h6\">Color Schema</Typography>\n          <Typography className={classes.subtitle}>\n            Select the color schema of the lightbar\n          </Typography>\n          <ColorSchemaList />\n        </CardContent>\n        <CardActions className={classes.button}>\n          <Button\n            color=\"primary\"\n            disabled={!selectedLightbar || !selectedColorSchema}\n            variant=\"contained\"\n            onClick={routeToLightbar}\n          >\n            Start Configurator\n          </Button>\n        </CardActions>\n      </Card>\n    </div>\n  );\n}\n","import FileSaver from 'file-saver';\n\nexport const toHex = (value) => {\n  let hex = Number(value).toString(16);\n  if (hex.length < 2) {\n    hex = `0${hex}`;\n  }\n\n  return hex;\n};\n\nexport const rgbToHex = (value) =>\n  Object.values(value)\n    .map((v) => toHex(v))\n    .join('');\n\nexport const createBinaryBlob = (cycles) => {\n  if (!cycles || !cycles.length) {\n    return null;\n  }\n\n  const lightLength = cycles[0].lights.length;\n  const length = 3 + cycles.length * lightLength * 3;\n  const buffer = new ArrayBuffer(length);\n  const dv = new DataView(buffer);\n\n  dv.setUint8(0, lightLength);\n  dv.setUint16(1, cycles.length);\n\n  let index = 3;\n\n  cycles.forEach((c) =>\n    c.lights.forEach((l) =>\n      [\n        (l.color.r * l.color.a).toFixed(0),\n        (l.color.g * l.color.a).toFixed(0),\n        (l.color.b * l.color.a).toFixed(0),\n      ].forEach((v) => dv.setUint8(index++, v)),\n    ),\n  );\n\n  return new Blob([dv.buffer], { type: 'application/octet-stream' });\n};\n\nexport const createMessageBoardBinaryBlob = (data) => {\n  const buffer = new ArrayBuffer(\n    Math.ceil(data.length / 8) * 8 * data[0].length * 3,\n  );\n  const dv = new DataView(buffer);\n\n  // Reformats the data to be as a area of 8 * 16 pixels\n  for (let i = 0; i < Math.ceil(data.length / 8); i += 1) {\n    for (let r = 0; r < data[0].length; r += 1) {\n      for (let c = 0; c < 8; c += 1) {\n        const binaryIndex = i * 8 * data[0].length * 3 + r * 8 + c * 3;\n        data[i * 8 + c][r].forEach((value, index) =>\n          dv.setUint8(binaryIndex + index, value),\n        );\n      }\n    }\n  }\n  for (let i = 0; i < dv.buffer.byteLength; i += 1) {\n    console.log(dv.getUint8(i));\n  }\n\n  return new Blob([dv.buffer], { type: 'application/octet-stream' });\n};\n\nexport const createJSONBlob = (lightbar) =>\n  new Blob([JSON.stringify(lightbar)], { type: 'application/json' });\n\nexport const saveFile = (blob, name) => {\n  FileSaver.saveAs(blob, name);\n};\n\nexport const getDefaultLights = (lightbar) =>\n  [...Array(lightbar.front + lightbar.rear + 6).keys()].map(() => ({\n    color: {\n      r: 0,\n      g: 0,\n      b: 0,\n      a: 1,\n    },\n  }));\n","import { createSlice } from '@reduxjs/toolkit';\nimport {\n  createJSONBlob,\n  createBinaryBlob,\n  getDefaultLights,\n  saveFile,\n} from '../../app/utils';\n\nconst initialState = {\n  lightbar: null,\n  cycles: [],\n  selectedCycle: 0,\n  selectedLight: 0,\n  showPreview: false,\n  latestSelectedColor: null,\n};\n\nexport const slice = createSlice({\n  name: 'lightbar',\n  initialState,\n  reducers: {\n    setLightbar: (state, action) => ({\n      ...initialState,\n      lightbar: action.payload,\n    }),\n    setSelectedCycle: (state, action) => {\n      state.selectedCycle = action.payload;\n    },\n    setSelectedLight: (state, action) => {\n      if (state.latestSelectedColor) {\n        state.cycles[state.selectedCycle].lights[action.payload].color =\n          state.latestSelectedColor;\n      }\n\n      state.selectedLight = action.payload;\n    },\n    addCycle: (state, action) => {\n      state.cycles.push({\n        lights: action.payload || getDefaultLights(state.lightbar),\n      });\n      state.selectedCycle = state.cycles.length - 1;\n    },\n    duplicateCycle: (state) => {\n      state.cycles.push(state.cycles[state.selectedCycle]);\n      state.selectedCycle = state.cycles.length - 1;\n    },\n    deleteCycle: (state, action) => {\n      state.cycles.splice(action.payload, 1);\n    },\n    setLightSetting: (state, action) => {\n      state.cycles[state.selectedCycle].lights[state.selectedLight] =\n        action.payload;\n      state.latestSelectedColor = action.payload.color;\n    },\n    setInitialState: (state) => {\n      state = initialState;\n    },\n    setShowPreview: (state, action) => {\n      state.showPreview = action.payload;\n    },\n    saveAsFile: (state, action) => {\n      const [blob, type] = action.payload\n        ? [\n          createJSONBlob({ lightbar: state.lightbar, cycles: state.cycles }),\n          'json',\n        ]\n        : [createBinaryBlob(state.cycles), 'bin'];\n\n      saveFile(blob, `${state.lightbar.model}-${new Date().getTime()}.${type}`);\n    },\n  },\n});\n\nexport const {\n  setLightbar,\n  setSelectedCycle,\n  setSelectedLight,\n  addCycle,\n  duplicateCycle,\n  deleteCycle,\n  setLightSetting,\n  setInitialState,\n  setShowPreview,\n  saveAsFile,\n} = slice.actions;\n\nexport const getLightbar = (state) => state.lightbar.lightbar;\nexport const getCycles = (state) => state.lightbar.cycles;\nexport const getSelectedCycle = (state) => state.lightbar.selectedCycle;\nexport const getSelectedLight = (state) => state.lightbar.selectedLight;\nexport const getShowPreview = (state) => state.lightbar.showPreview;\n\nexport default slice.reducer;\n","export const getTextWidth = (text, font) => {\n  const canvas = document.createElement('canvas');\n  const ctx = canvas.getContext('2d');\n  ctx.font = font;\n  return ctx.measureText(text).width;\n};\n\nexport const convertToRowBaseArray = (dataImage) => {\n  const data = [];\n\n  for (let c = 0; c < dataImage.width; c += 1) {\n    const col = [];\n    for (let r = 0; r < dataImage.height; r += 1) {\n      const pixel = r * dataImage.width * 4 + c * 4;\n      col.push([\n        // dataImage.data[pixel],\n        // dataImage.data[pixel + 1],\n        // dataImage.data[pixel + 2],\n        dataImage.data[pixel] < 100 ? 0 : dataImage.data[pixel],\n        dataImage.data[pixel + 1] < 100 ? 0 : dataImage.data[pixel + 1],\n        dataImage.data[pixel + 2] < 100 ? 0 : dataImage.data[pixel + 2],\n        // dataImage.data[pixel + 3],\n      ]);\n    }\n    data.push(col);\n  }\n\n  console.log(data);\n\n  return data;\n};\n\nexport const convertTextToBitmap = (text, userStyle) => {\n  if (!text || text.trim() === '') {\n    return [];\n  }\n  const canvas = document.createElement('canvas');\n  const style = {\n    ...{\n      fontFamily: 'Open Sans',\n      fontSize: 14,\n      fontStyle: 'bold',\n      textColor: '#00ff00',\n      backgroundColor: 'rgba(0, 0, 0)',\n    },\n    ...userStyle,\n  };\n  const font = `${style.fontStyle} ${style.fontSize}px ${style.fontFamily}`;\n  console.log(font);\n  canvas.width = getTextWidth(text, font).toFixed(0);\n  canvas.height = 16;\n  const ctx = canvas.getContext('2d');\n  ctx.textBaseline = 'middle';\n  ctx.fillStyle = style.backgroundColor;\n  ctx.fillRect(0, 0, canvas.width, canvas.height);\n  ctx.font = font;\n  ctx.fillStyle = style.textColor;\n  ctx.fillText(text, 0, 8);\n  return convertToRowBaseArray(\n    ctx.getImageData(0, 0, canvas.width, canvas.height),\n  );\n};\n","// eslint-disable no-parameter-reassign\nimport { createSlice } from '@reduxjs/toolkit';\nimport { convertTextToBitmap } from './helpers';\nimport {\n  createMessageBoardBinaryBlob,\n  saveFile,\n  createJSONBlob,\n} from '../../app/utils';\n\nconst slice = createSlice({\n  name: 'scrollingBoard',\n  initialState: {\n    column: 48,\n    firstLine: 'Hello World ⛔ سلام دنیا 😁',\n    imageData: convertTextToBitmap('Hello World ⛔ سلام دنیا 😁'),\n    ledColor: { r: 0, g: 255, b: 0, a: 1 },\n    pixelCornerRadius: 0,\n    pixelSize: 10,\n    row: 16,\n    secondLine: 'Line 2',\n    scrollSpeed: 50,\n    spaceBetweenPixels: null,\n    style: null,\n  },\n  reducers: {\n    setColumn: (state, action) => {\n      state.column = action.payload;\n    },\n    setImageData: (state, action) => {\n      state.imageData = action.payload;\n    },\n    setFirstLine: (state, action) => {\n      state.firstLine = action.payload;\n    },\n    setLedColor: (state, action) => {\n      state.ledColor = action.payload;\n    },\n    setPixelCornerRadius: (state, action) => {\n      state.pixelCornerRadius = action.payload;\n    },\n    setRow: (state, action) => {\n      state.row = action.payload;\n    },\n    setSecondLine: (state, action) => {\n      state.secondLine = action.payload;\n    },\n    setScrollSpeed: (state, action) => {\n      state.scrollSpeed = action.payload;\n    },\n    setBoardState: (state, action) => action.payload,\n    exportData: (state, action) => {\n      const [blob, type] = action.payload\n        ? [createJSONBlob(state.imageData), 'json']\n        : [createMessageBoardBinaryBlob(state.imageData), 'bin'];\n      saveFile(blob, `message-board-${new Date().getTime()}.${type}`);\n    },\n  },\n});\n\nexport const {\n  exportData,\n  setColumn,\n  setFirstLine,\n  setImageData,\n  setLedColor,\n  setRow,\n  setSecondLine,\n  setScrollSpeed,\n  setBoardState,\n} = slice.actions;\n\nexport const getBoardState = (state) => state.scrollingBoard;\nexport const getColumn = (state) => state.scrollingBoard.column;\nexport const getFirstLine = (state) => state.scrollingBoard.firstLine;\nexport const ggetImageData = (state) => state.scrollingBoard.imageData;\nexport const getLedColor = (state) => state.scrollingBoard.ledColor;\nexport const getRow = (state) => state.scrollingBoard.row;\nexport const getSecondLine = (state) => state.scrollingBoard.secondLine;\nexport const getScrollSpeed = (state) => state.scrollingBoard.scrollSpeed;\n\nexport default slice.reducer;\n","import React, { useEffect, useState } from 'react';\nimport {\n  AppBar,\n  Toolbar,\n  IconButton,\n  makeStyles,\n  Typography,\n  Button,\n  MenuItem,\n  Menu,\n} from '@material-ui/core';\n// import MenuIcon from '@material-ui/icons/Menu';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport HomeIcon from '@material-ui/icons/Home';\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { saveAsFile, setShowPreview } from '../features/Lightbar/ligther-slice';\nimport { exportData } from '../features/ScrollingBoard/scrolling-board-slice';\n\nconst useStyles = makeStyles((theme) => ({\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n  },\n  previewButton: {\n    color: '#ffffff',\n    borderColor: '#ffffff',\n  },\n}));\n\nfunction Header() {\n  const classes = useStyles();\n  const location = useLocation();\n  const history = useHistory();\n  const [showAppbarButtons, setShowAppbarButton] = useState({\n    showPreview: false,\n    showExport: false,\n  });\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const dispatch = useDispatch();\n\n  const onCloseContexMenu = (isJSON) => () => {\n    if (location.pathname.search(/lightbar$/) > -1) {\n      if (isJSON !== null) {\n        dispatch(saveAsFile(isJSON));\n      }\n    } else if (location.pathname.search(/message-board/) > -1) {\n      if (isJSON !== null) {\n        dispatch(exportData(isJSON));\n      }\n    }\n    setAnchorEl(null);\n  };\n  const openContextMenu = (e) => setAnchorEl(e.currentTarget);\n  const onPreviewClick = () => dispatch(setShowPreview(true));\n  const goHome = () => history.replace('/');\n\n  useEffect(() => {\n    if (location.pathname.search(/lightbar$/) > 0) {\n      setShowAppbarButton({ showPreview: true, showExport: true });\n    } else if (location.pathname.search(/message-board/) > 0) {\n      setShowAppbarButton({ showPreview: false, showExport: true });\n    } else {\n      setShowAppbarButton({ showPreview: false, showExport: false });\n    }\n  }, [location]);\n\n  return (\n    <AppBar position=\"static\">\n      <Toolbar>\n        <IconButton\n          edge=\"start\"\n          color=\"inherit\"\n          aria-label=\"Menu\"\n          onClick={goHome}\n        >\n          <HomeIcon />\n        </IconButton>\n        <Typography variant=\"h6\" className={classes.title}>\n          DandR Electronic Lighbar Configurator\n        </Typography>\n        {showAppbarButtons.showPreview && (\n          <Button\n            className={classes.previewButton}\n            onClick={onPreviewClick}\n            startIcon={<PlayArrowIcon />}\n            variant=\"outlined\"\n          >\n            Preview\n          </Button>\n        )}\n        {showAppbarButtons.showExport && (\n          <IconButton\n            aria-label=\"Download\"\n            color=\"inherit\"\n            edge=\"end\"\n            onClick={openContextMenu}\n          >\n            <MoreVertIcon />\n          </IconButton>\n        )}\n        <Menu\n          id=\"simple-menu\"\n          anchorEl={anchorEl}\n          keepMounted\n          open={Boolean(anchorEl)}\n          onClose={onCloseContexMenu()}\n        >\n          <MenuItem onClick={onCloseContexMenu(false)}>Export BIN</MenuItem>\n          <MenuItem onClick={onCloseContexMenu(true)}>Export JSON</MenuItem>\n        </Menu>\n      </Toolbar>\n    </AppBar>\n  );\n}\n\nexport default Header;\n","import React, { useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core';\nimport { Stage, Layer, Rect, Text } from 'react-konva';\n\nimport { rgbToHex } from '../../app/utils';\n\nconst useStyles = makeStyles({\n  root: {\n    display: 'flex',\n    flexDirection: 'row',\n    height: (props) => (props.width ? 'auto' : 200),\n    justifyContent: 'center',\n    marginLeft: 10,\n    maxWidth: 750,\n    minWidth: (props) => props.width || 500,\n    width: (props) => props.width || '100%',\n  },\n});\n\nconst Light = ({\n  fill,\n  getStrokeColor,\n  height,\n  onClick,\n  rotation,\n  scale,\n  shadowBlur,\n  stroke,\n  text,\n  width,\n  x,\n  y,\n}) => (\n  <>\n    <Rect\n      fill={fill}\n      height={height}\n      cornerRadius={5}\n      onClick={onClick}\n      rotation={rotation}\n      shadowBlur={shadowBlur}\n      stroke={stroke}\n      width={width}\n      x={x}\n      y={y}\n    />\n    {text && (\n      <Text\n        align=\"center\"\n        fontSize={10 * scale}\n        height={height}\n        rotation={rotation}\n        text={text}\n        verticalAlign=\"middle\"\n        width={width}\n        x={x}\n        y={y}\n      />\n    )}\n  </>\n);\n\nfunction LightbarPreview({\n  lights = [],\n  onClick,\n  selectedLight,\n  title,\n  width,\n}) {\n  const classes = useStyles({ width });\n  const containerRef = useRef();\n\n  if (!lights.length) {\n    return null;\n  }\n\n  const front = lights.slice(0, (lights.length - 6) / 2);\n  const rear = lights.slice(front.length + 3, -3);\n  const originalWidth = 57 * 2 + front.length * 45;\n  const scale = (width || originalWidth) / originalWidth;\n  const lightbarWidth = front.length * (45 * scale);\n  const shadowBlur = 5 * scale;\n\n  // TODO it doesn't work properly\n  // useEffect(() => {\n  //   if (containerRef.current.offsetWidth !== divWidth\n  //     && containerRef.current.offsetWidth <= 750) {\n  //       setDivWidth(containerRef.current.offsetWidth);\n  //     }\n  //   },\n  // );\n\n  const onLightClick = (id) => () => onClick && onClick(id);\n\n  const getStrokeColor = (id) => (selectedLight === id ? 'red' : null);\n\n  const getColor = ({ r, g, b, a }) =>\n    `#${rgbToHex({\n      r: (r * a).toFixed(0),\n      g: (g * a).toFixed(0),\n      b: (b * a).toFixed(0),\n    })}`;\n\n  return (\n    <div ref={containerRef} className={classes.root}>\n      <Stage width={originalWidth * scale} height={200 * scale}>\n        <Layer x={57 * scale}>\n          {front.map((l, index) => (\n            <Light\n              fill={getColor(l.color)}\n              height={24 * scale}\n              index={index}\n              key={index}\n              stroke={getStrokeColor(index)}\n              text={l.text}\n              onClick={onLightClick(index)}\n              scale={scale}\n              shadowBlur={shadowBlur}\n              width={40 * scale}\n              x={45 * index * scale}\n              y={20 * scale}\n            />\n          ))}\n        </Layer>\n        <Layer\n          rotation={-180}\n          x={57 * 2 * scale + lightbarWidth}\n          y={184 * scale}\n        >\n          <Light\n            x={58 * scale}\n            y={44 * scale}\n            width={40 * scale}\n            height={24 * scale}\n            fill={getColor(lights[front.length + 2].color)}\n            rotation={135}\n            text={lights[front.length + 2].text}\n            shadowBlur={shadowBlur}\n            cornerRadius={5}\n            onClick={onLightClick(front.length + 2)}\n            stroke={getStrokeColor(front.length + 2)}\n            scale={scale}\n          />\n          <Light\n            x={30 * scale}\n            y={73 * scale}\n            width={40 * scale}\n            height={24 * scale}\n            fill={getColor(lights[front.length + 1].color)}\n            shadowBlur={shadowBlur}\n            text={lights[front.length + 1].text}\n            rotation={90}\n            cornerRadius={5}\n            onClick={onLightClick(front.length + 1)}\n            stroke={getStrokeColor(front.length + 1)}\n            scale={scale}\n          />\n          <Light\n            x={30 * scale}\n            y={113 * scale}\n            width={40 * scale}\n            height={24 * scale}\n            fill={getColor(lights[front.length].color)}\n            shadowBlur={shadowBlur}\n            text={lights[front.length].text}\n            rotation={45}\n            cornerRadius={5}\n            onClick={onLightClick(front.length)}\n            stroke={getStrokeColor(front.length)}\n            scale={scale}\n          />\n        </Layer>\n        <Layer x={57 * scale}>\n          {rear.map((l, index) => (\n            <Light\n              key={index}\n              x={45 * index * scale}\n              y={140 * scale}\n              width={40 * scale}\n              height={24 * scale}\n              fill={getColor(lights[lights.length - 4 - index].color)}\n              shadowBlur={shadowBlur}\n              text={lights[lights.length - 4 - index].text}\n              cornerRadius={5}\n              onClick={onLightClick(lights.length - 4 - index)}\n              stroke={getStrokeColor(lights.length - 4 - index)}\n              scale={scale}\n            />\n          ))}\n        </Layer>\n        <Layer>\n          <Light\n            x={55 * scale}\n            y={44 * scale}\n            width={40 * scale}\n            height={24 * scale}\n            fill={getColor(lights[lights.length - 1].color)}\n            text={lights[lights.length - 1].text}\n            shadowBlur={shadowBlur}\n            rotation={135}\n            cornerRadius={5}\n            onClick={onLightClick(lights.length - 1)}\n            stroke={getStrokeColor(lights.length - 1)}\n            scale={scale}\n          />\n          <Light\n            x={27 * scale}\n            y={73 * scale}\n            width={40 * scale}\n            height={24 * scale}\n            fill={getColor(lights[lights.length - 2].color)}\n            text={lights[lights.length - 2].text}\n            shadowBlur={shadowBlur}\n            rotation={90}\n            cornerRadius={5}\n            onClick={onLightClick(lights.length - 2)}\n            stroke={getStrokeColor(lights.length - 2)}\n            scale={scale}\n          />\n          <Light\n            x={27 * scale}\n            y={113 * scale}\n            width={40 * scale}\n            height={24 * scale}\n            fill={getColor(lights[lights.length - 3].color)}\n            text={lights[lights.length - 3].text}\n            shadowBlur={shadowBlur}\n            rotation={45}\n            cornerRadius={5}\n            onClick={onLightClick(lights.length - 3)}\n            stroke={getStrokeColor(lights.length - 3)}\n            scale={scale}\n          />\n        </Layer>\n      </Stage>\n    </div>\n  );\n}\n\nLightbarPreview.propTypes = {\n  lights: PropTypes.array,\n  onClick: PropTypes.func,\n  selectedLight: PropTypes.number,\n  title: PropTypes.node,\n  width: PropTypes.number,\n};\n\nexport default LightbarPreview;\n","import React, { useState, useEffect } from 'react';\nimport { makeStyles, Dialog, useMediaQuery, useTheme, DialogTitle, DialogContent } from '@material-ui/core';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {getShowPreview, setShowPreview, getCycles} from '../Lightbar/ligther-slice';\nimport LightbarPreview from '.';\n\n\nconst useStyles = makeStyles({\n});\n\nfunction LivePreview () {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [open, setOpen] = useState(false);\n  const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\n  const showPreview = useSelector(getShowPreview);\n  const cycles = useSelector(getCycles);\n  const dispatch = useDispatch();\n  const [visibleCycle, setVisibleCycle] = useState(0);\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setVisibleCycle(visibleCycle + 1 < cycles.length ?\n        visibleCycle + 1\n        : 0\n      );\n    }, 50);\n    return () => clearInterval(interval);\n  });\n\n  const handleClose = () => dispatch(setShowPreview(false));\n\n  return(\n    <div>\n      <Dialog\n        fullScreen={fullScreen}\n        open={showPreview}\n        onClose={handleClose}\n        aria-labelledby=\"responsive-dialog-title\"\n      >\n          <DialogTitle\n            id=\"responsive-dialog-title\">\n            Lightbar Preview\n          </DialogTitle>\n          <DialogContent>\n            { cycles && cycles[visibleCycle] &&\n              <LightbarPreview\n                lights={cycles[visibleCycle].lights}\n              />\n            }\n          </DialogContent>\n      </Dialog>\n    </div>\n  );\n}\n\nexport default LivePreview;\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport reactCSS from 'reactcss'\nimport map from 'lodash/map'\nimport merge from 'lodash/merge'\nimport color from 'react-color/lib/helpers/color'\n\nimport { ColorWrap, Swatch } from 'react-color/lib/components/common'\n\nexport const SchemaColorPicker = ({ onChange, onSwatchHover, hex, colors, width, triangle,\n  styles: passedStyles = {}, className = '' }) => {\n  const styles = reactCSS(merge({\n    'default': {\n      card: {\n        width,\n        background: '#fff',\n        border: '0 solid rgba(0,0,0,0.25)',\n        boxShadow: '0 1px 4px rgba(0,0,0,0.25)',\n        borderRadius: '4px',\n        position: 'relative',\n      },\n      body: {\n        padding: '15px 9px 9px 15px',\n        height: 40,\n      },\n      label: {\n        fontSize: '18px',\n        color: '#fff',\n      },\n      triangle: {\n        width: '0px',\n        height: '0px',\n        borderStyle: 'solid',\n        borderWidth: '0 9px 10px 9px',\n        borderColor: 'transparent transparent #fff transparent',\n        position: 'absolute',\n      },\n      triangleShadow: {\n        width: '0px',\n        height: '0px',\n        borderStyle: 'solid',\n        borderWidth: '0 9px 10px 9px',\n        borderColor: 'transparent transparent rgba(0,0,0,.1) transparent',\n        position: 'absolute',\n      },\n      hash: {\n        background: '#F0F0F0',\n        height: '30px',\n        width: '30px',\n        borderRadius: '4px 0 0 4px',\n        float: 'left',\n        color: '#98A1A4',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n      },\n      input: {\n        width: '100px',\n        fontSize: '14px',\n        color: '#666',\n        border: '0px',\n        outline: 'none',\n        height: '28px',\n        boxShadow: 'inset 0 0 0 1px #F0F0F0',\n        boxSizing: 'content-box',\n        borderRadius: '0 4px 4px 0',\n        float: 'left',\n        paddingLeft: '8px',\n      },\n      swatch: {\n        width: '30px',\n        height: '30px',\n        float: 'left',\n        borderRadius: '4px',\n        margin: '0 6px 6px 0',\n      },\n      clear: {\n        clear: 'both',\n      },\n    },\n    'hide-triangle': {\n      triangle: {\n        display: 'none',\n      },\n      triangleShadow: {\n        display: 'none',\n      },\n    },\n    'top-left-triangle': {\n      triangle: {\n        top: '-10px',\n        left: '12px',\n      },\n      triangleShadow: {\n        top: '-11px',\n        left: '12px',\n      },\n    },\n    'top-right-triangle': {\n      triangle: {\n        top: '-10px',\n        right: '12px',\n      },\n      triangleShadow: {\n        top: '-11px',\n        right: '12px',\n      },\n    },\n  }, passedStyles), {\n    'hide-triangle': triangle === 'hide',\n    'top-left-triangle': triangle === 'top-left',\n    'top-right-triangle': triangle === 'top-right',\n  })\n\n  const handleChange = (hexcode, e) => {\n    color.isValidHex(hexcode) && onChange({\n      hex: hexcode,\n      source: 'hex',\n    }, e)\n  }\n\n  return (\n    <div style={ styles.card } className={ `twitter-picker ${ className }` }>\n      <div style={ styles.triangleShadow } />\n      <div style={ styles.triangle } />\n\n      <div style={ styles.body }>\n        { map(colors, (c, i) => {\n          return (\n            <Swatch\n              key={ i }\n              color={ c }\n              hex={ c }\n              style={ styles.swatch }\n              onClick={ handleChange }\n              onHover={ onSwatchHover }\n              focusStyle={{\n                boxShadow: `0 0 4px ${ c }`,\n              }}\n            />\n          )\n        }) }\n      </div>\n    </div>\n  )\n}\n\nSchemaColorPicker.propTypes = {\n  width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  triangle: PropTypes.oneOf(['hide', 'top-left', 'top-right']),\n  colors: PropTypes.arrayOf(PropTypes.string),\n  styles: PropTypes.object,\n}\n\nSchemaColorPicker.defaultProps = {\n  width: 276,\n  colors: ['#FF6900', '#FCB900', '#7BDCB5', '#00D084', '#8ED1FC', '#0693E3',\n    '#ABB8C3', '#EB144C', '#F78DA7', '#9900EF'],\n  triangle: 'top-left',\n  styles: {},\n}\n\nexport default ColorWrap(SchemaColorPicker)\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { SketchPicker } from 'react-color';\nimport { makeStyles } from '@material-ui/core';\nimport SchemaColorPicker from './schema-color-picker';\n\nconst useStyles = makeStyles({\n  root: {\n    position: 'fixed',\n    margin: '-50px 40px',\n    zIndex: 2,\n    backgroundColor: 'white',\n  },\n  pallete: {\n    backgroundColor: 'white',\n    position: 'absolute',\n    zIndex: '2',\n  },\n  innerPallete: {\n    position: 'fixed',\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n  },\n});\n\nconst ColorPicker = ({ colors, value, onClick, onChange }) => {\n  const classes = useStyles({ colors });\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.pallete}>\n        <div className={classes.innerPallete} onClick={onClick} />\n        {colors?.length ? (\n          <SchemaColorPicker\n            colors={colors}\n            hex={false}\n            triangle=\"hide\"\n            onChange={onChange}\n          />\n        ) : (\n          <SketchPicker\n            presetColors={[\n              '#FFBF00',\n              '#FF0000',\n              '#00FF00',\n              '#0000FF',\n              '#000000',\n            ]}\n            color={value}\n            onChange={onChange}\n            disableAlpha\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nColorPicker.propTypes = {\n  value: PropTypes.object,\n  onChange: PropTypes.func,\n  onClick: PropTypes.func,\n};\n\nexport default ColorPicker;\n","import React, {useState} from 'react';\nimport { Card, CardContent, CardHeader, TextField, Typography, makeStyles, Button } from '@material-ui/core';\nimport {blue} from '@material-ui/core/colors';\n\nimport ColorPicker from './color-picker';\nimport {AlphaPicker} from 'react-color';\n\nconst useStyles = makeStyles({\n  root: {\n    minWidth: 400,\n    maxWidth: 500,\n  },\n  card: {},\n  cardHeader: {\n    color: '#ffffff',\n    backgroundColor: blue[500],\n  },\n  cardContent: {},\n  colorInfo: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  colorView: {\n    width: 25,\n    height: 25,\n    backgroundColor: prop => `rgb(${Object.values(prop.color)})`,\n  }\n});\n\nfunction LightbarSetting({ colors, config, onChange }) {\n  const classes = useStyles({ color: config?.color || { r: 255, g: 255, b: 255 } });\n  const [showColorPicker, setShowColorPicker] = useState(false);\n\n  const onValueChange = ({ target }) => {\n    console.log(target.value);\n    onChange({\n      color: {\n        ...config?.color,\n        [target.name]: +target.value >= 0 && +target.value <= 255 ?\n          target.value.trim()\n          : config?.color[target.name]\n      }\n    });\n  };\n\n  const onColorPickerChange = (color) => onChange({\n    color: color.rgb,\n  });\n\n  const onAlphaPickerChage = (color) => {\n    console.log(color);\n    onChange({\n      color: color.rgb,\n    });\n  };\n\n  const setColorPickerState = () => setShowColorPicker(!showColorPicker);\n\n  return (\n    <div className={classes.root}>\n      <Card className={classes.card}>\n        <CardHeader\n          className={classes.cardHeader}\n          title=\"Set the color\"\n        />\n        <CardContent className={classes.cardContent}>\n          { !!config ?\n            <div className={classes.colorInfo}>\n              { !colors.length ?\n                <>\n                  <TextField\n                    label=\"Red\"\n                    inputProps={{ max: 255, min: 0 }}\n                    name=\"r\"\n                    onChange={onValueChange}\n                    size=\"small\"\n                    type=\"number\"\n                    value={config.color ? config.color.r : 255}\n                    variant=\"outlined\"\n                  />\n                  <TextField\n                    label=\"Green\"\n                    inputProps={{ max: 255, min: 0 }}\n                    name=\"g\"\n                    onChange={onValueChange}\n                    size=\"small\"\n                    type=\"number\"\n                    value={config.color ? config.color.g : 255}\n                    variant=\"outlined\"\n                  />\n                  <TextField\n                    label=\"Blue\"\n                    inputProps={{ max: 255, min: 0 }}\n                    name=\"b\"\n                    onChange={onValueChange}\n                    size=\"small\"\n                    type=\"number\"\n                    value={config.color ? config.color.b : 255}\n                    variant=\"outlined\"\n                  />\n                </>\n                :\n                <AlphaPicker\n                  color={config.color}\n                  onChange={onAlphaPickerChage}\n                  width={280}\n                />\n              }\n              <Button\n                color=\"default\"\n                onClick={setColorPickerState}\n                variant=\"contained\"\n              >\n                <span className={classes.colorView} />\n              </Button>\n              {\n                showColorPicker &&\n                  <ColorPicker\n                    colors={colors}\n                    onClick={setColorPickerState}\n                    onChange={onColorPickerChange}\n                    value={config?.color}\n                  />\n              }\n            </div>\n            :\n            <Typography variant=\"h6\">\n              Please select a light module from the lightbar preview to set the color.\n            </Typography>\n          }\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n\nexport default LightbarSetting;\n","import React from 'react';\nimport { List, makeStyles, ListItem, ListItemText, ListItemSecondaryAction, IconButton } from '@material-ui/core';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {getCycles, getSelectedCycle, setSelectedCycle, deleteCycle} from '../ligther-slice';\nimport LightbarPreview from '../../LightbarPreview';\n\nconst useStyles = makeStyles({\n  root: {\n    width: '100%',\n    overflow: 'auto',\n    maxHeight: 400,\n  },\n  item: {\n    height: 75,\n  }\n});\n\nconst Cycle = ({\n  className,\n  id,\n  lights,\n  onClick,\n  onDelete,\n  selected\n}) => (\n  <ListItem\n    alignItems=\"center\"\n    className={className}\n    selected={selected}\n    onClick={onClick}\n    button>\n    <ListItemText \n      primary={ `Cycle #${id + 1}` }\n    />\n    <LightbarPreview lights={lights} width={(lights.length - 6) * 10} />\n    <ListItemSecondaryAction>\n      <IconButton\n        arial-label=\"delete\"\n        edge=\"end\"\n        onClick={onDelete}\n      >\n        <DeleteIcon />\n      </IconButton>\n    </ListItemSecondaryAction>\n  </ListItem>\n);\n\nfunction CycleList() {\n  const classes = useStyles();\n  const cycles = useSelector(getCycles);\n  const selectedCycle = useSelector(getSelectedCycle);\n  const dispatch = useDispatch();\n\n  const onClick = (id) => () => dispatch(setSelectedCycle(id));\n  const onDelete = (id) => () => dispatch(deleteCycle(id));\n\n  return (\n    <List className={classes.root}>\n      {\n        cycles.map((c, i) => <Cycle\n          className={classes.item}\n          key={i}\n          id={i}\n          lights={c.lights}\n          onClick={onClick(i)}\n          onDelete={onDelete(i)}\n          selected={i === selectedCycle}\n        />)\n      }\n    </List>\n  );\n}\n\nexport default CycleList;\n","import React from 'react';\nimport { Card, CardContent, IconButton, makeStyles, CardHeader } from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\nimport DuplicateIcon from '@material-ui/icons/FileCopyOutlined';\nimport { blue } from '@material-ui/core/colors';\n\nimport CycleList from './cycle-list';\nimport {useDispatch} from 'react-redux';\nimport {addCycle, duplicateCycle} from '../ligther-slice';\n\nconst useStyles = makeStyles({\n  action: {\n    color: '#ffffff',\n  },\n  card: {\n  },\n  cardHeader: {\n    color: '#ffffff',\n    backgroundColor: blue[500],\n  },\n  root: {\n  },\n});\n\nfunction Cycles() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n\n  const onAddClick = () => dispatch(addCycle());\n  const onDuplicateClick = () => dispatch(duplicateCycle());\n\n  return (\n    <div className={classes.root}>\n      <Card className={classes.card}>\n        <CardHeader className={classes.cardHeader}\n          action={\n            <>\n            <IconButton\n              arial-label=\"Add a new cycle\"\n              className={classes.action}\n              onClick={onDuplicateClick}\n            >\n              <DuplicateIcon />\n            </IconButton>\n            <IconButton\n              arial-label=\"Add a new cycle\"\n              className={classes.action}\n              onClick={onAddClick}\n            >\n              <AddIcon />\n            </IconButton>\n            </>\n          }\n          title=\"Cycles\"\n        />\n        <CardContent>\n          <CycleList />\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n\nexport default Cycles;\n","import React, {useEffect} from 'react';\nimport Konva from 'konva';\nimport {makeStyles} from '@material-ui/core/styles';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {Redirect} from 'react-router-dom';\n\nimport LightbarPreview from '../LightbarPreview';\nimport LivePreview from '../LightbarPreview/live-preview';\nimport LighbarSetting from './LightbarSetting';\nimport Cycles from './Cycles';\nimport {getLightbar, getColorSchema} from '../LightbarSelector/lightbar-selector-slice';\nimport {getSelectedCycle, setLightbar, addCycle, getCycles, setSelectedLight, getSelectedLight, setLightSetting, getShowPreview} from './ligther-slice';\nimport {useMediaQuery} from '@material-ui/core';\n\nconst useStyles = makeStyles({\n  root: {\n    display: 'flex',\n    flexDirection: 'row',\n    marginTop: 20,\n    padding: '0 16px',\n    alignContent: 'space-between',\n    flexWrap: props => props.mqMatches ? null : 'wrap-reverse',\n  },\n  cycles: {\n    minWidth: 400,\n    flexGrow: 1,\n    bottom: 0,\n  },\n  details: {\n    flexGrow: 2,\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    alignContent: 'stretch',\n    padding: '0 10px',\n  },\n});\n\nfunction Lightbar() {\n  const mqMatches = useMediaQuery('(min-width: 800px)');\n  const classes = useStyles({mqMatches});\n  const dispatch = useDispatch();\n  const selectedModel = useSelector(getLightbar)\n  const selectedCycle = useSelector(getSelectedCycle);\n  const selectedLight = useSelector(getSelectedLight);\n  const cycles = useSelector(getCycles);\n  const lightbar = useSelector(getLightbar);\n  const showPreview = useSelector(getShowPreview);\n  const colorSchema = useSelector(getColorSchema);\n\n  const selectLight = (id) => dispatch(setSelectedLight(id));\n  const setLightChange = (change) => dispatch(setLightSetting(change));\n\n  useEffect(() => {\n    dispatch(setLightbar(selectedModel));\n  }, []);\n\n  useEffect(() => {\n    !!lightbar && dispatch(addCycle());\n  }, [lightbar]);\n\n  if (!selectedModel) {\n    return <Redirect to='/' />;\n  }\n\n  console.log(selectedCycle);\n\n  return (\n    <>\n    { !!lightbar &&\n    <div className={classes.root}>\n      <div className={classes.cycles} >\n        <Cycles />\n      </div>\n      <div className={classes.details}>\n        <LightbarPreview\n          lights={cycles[selectedCycle]?.lights}\n          onClick={selectLight}\n          selectedLight={selectedLight}\n          title={selectedModel.model}\n        />\n        <LighbarSetting\n          config={cycles[selectedCycle]?.lights[selectedLight]}\n          colors={colorSchema.schema}\n          onChange={setLightChange}\n        />\n       </div>\n    </div>\n    }\n    { showPreview &&\n        <LivePreview />\n    }\n    </>\n  );\n}\n\nexport default Lightbar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Stage, Rect, Layer } from 'react-konva';\nimport { makeStyles } from '@material-ui/core';\nimport { textToBitmap } from './utils';\n\nconst useStyles = makeStyles({\n  root: {\n    backgroundColor: (props) => props.backgroundColor || '#565656',\n    borderRadius: 4,\n    borderColor: '#333',\n    display: 'inline-block',\n    padding: 5,\n    margin: 5,\n  },\n});\n\nfunction MatrixLCD({\n  backgroundColor,\n  column,\n  hasGlow = false,\n  pixelColor = 'green',\n  pixelCornerRadius,\n  pixelSize = 10,\n  pixelStatus = [],\n  row,\n  scrollSpeed = 1000,\n  space = 2,\n}) {\n  const classes = useStyles({ backgroundColor });\n  const scale =\n    window.innerWidth - 100 < (pixelSize + space) * column\n      ? (window.innerWidth - 100) / ((pixelSize + space) * column)\n      : 1;\n  const pixelRoom = (pixelSize + space) * scale;\n  const [scroll, setScroll] = React.useState(0);\n\n  React.useEffect(() => {\n    let intervalId = 0;\n    if (pixelStatus[0].pixels.length > column) {\n      pixelStatus[0].pixels = [\n        ...pixelStatus[0].pixels,\n        ...[...new Array(column).keys()],\n      ];\n    }\n    pixelStatus.forEach((status, i) => {\n      if (status.pixels.length && status.pixels.length > column) {\n        status.pixels = [...status.pixels];\n        intervalId = setInterval(() => {\n          // status.pixels.forEach((r) => r.push(r.shift()));\n          pixelStatus[i].pixels.push(pixelStatus[i].pixels.shift());\n          setScroll((state) => state + 1);\n        }, scrollSpeed);\n      }\n    });\n\n    return () => {\n      if (intervalId) {\n        clearInterval(intervalId);\n      }\n    };\n  }, [pixelStatus]);\n\n  const getPixelColor = (r, c) => {\n    let color = 'rgba(0, 0, 0, 0.1)';\n\n    pixelStatus.forEach((item) => {\n      if (c >= item.x && r >= item.y) {\n        if (\n          item.pixels[c - item.x] &&\n          item.pixels[c - item.x][r] &&\n          item.pixels[c - item.x][r].join('') !== '000'\n        ) {\n          // color = pixelColor;\n          color = `rgba(${item.pixels[c - item.x][r]})`;\n        }\n      }\n    });\n\n    return color;\n  };\n\n  return (\n    <div className={classes.root}>\n      <Stage width={pixelRoom * column} height={pixelRoom * row}>\n        <Layer x={0} y={0}>\n          {[...Array(row).keys()]\n            .map((r) =>\n              [...Array(column).keys()].map((c) => (\n                <Rect\n                  key={`${r}-${c}`}\n                  cornerRadius={pixelCornerRadius || 0}\n                  fill={getPixelColor(r, c)}\n                  x={space + pixelRoom * c}\n                  y={space + pixelRoom * r}\n                  width={pixelSize * scale}\n                  height={pixelSize * scale}\n                />\n              )),\n            )\n            .flat()}\n        </Layer>\n      </Stage>\n    </div>\n  );\n}\n\nMatrixLCD.propTypes = {\n  backgroundColor: PropTypes.string,\n  column: PropTypes.number,\n  hasGlow: PropTypes.bool,\n  pixelColor: PropTypes.string,\n  pixelCornerRadius: PropTypes.number,\n  pixelSize: PropTypes.number,\n  pixelStatus: PropTypes.array,\n  row: PropTypes.number,\n  scrollSpeed: PropTypes.number,\n  space: PropTypes.number,\n};\n\nexport default MatrixLCD;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Toolbar,\n  Select,\n  MenuItem,\n  FormControl,\n  InputLabel,\n  makeStyles,\n  IconButton,\n} from '@material-ui/core';\nimport InsertEmoticonIcon from '@material-ui/icons/InsertEmoticon';\nimport { Picker } from 'emoji-mart';\nimport 'emoji-mart/css/emoji-mart.css';\nimport clsx from 'clsx';\n\nconst useStyles = makeStyles((theme) => ({\n  emojiIcon: {\n    fontSize: 30,\n  },\n  emojiPicker: {\n    position: 'absolute',\n    zIndex: 999,\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n  toolbar: {\n    flexWrap: 'wrap',\n    padding: 'unset',\n  },\n}));\n\nconst FontToolbar = ({\n  addEmoji = () => null,\n  className,\n  fontFamily = 'Open Sans',\n  fontSize = 14,\n  fontStyle = 'bold',\n  onChange = () => null,\n}) => {\n  const classes = useStyles();\n  const [styles, setStyles] = React.useState({\n    fontFamily,\n    fontSize,\n    fontStyle,\n  });\n  const [isEmojiPickerVisible, setEmojiPickerVisibility] = React.useState(\n    false,\n  );\n  const onFontChange = (item) => (e) => {\n    setStyles({\n      ...styles,\n      [item]: e.target.value,\n    });\n    onChange({\n      ...styles,\n      [item]: e.target.value,\n    });\n  };\n  const selectEmoji = (emoji) => {\n    setEmojiPickerVisibility(false);\n    addEmoji(emoji);\n  };\n\n  return (\n    <Toolbar className={clsx(classes.toolbar, className)}>\n      <FormControl variant=\"outlined\" className={classes.formControl}>\n        <InputLabel id=\"font-family\">Font</InputLabel>\n        <Select\n          edge=\"start\"\n          labelId=\"font-family\"\n          label=\"Font\"\n          onChange={onFontChange('fontFamily')}\n          value={styles.fontFamily}\n        >\n          <MenuItem value=\"Roboto\">Roboto</MenuItem>\n          <MenuItem value=\"Roboto Mono\">Roboto Mono</MenuItem>\n          <MenuItem value=\"Open Sans\">Open Sans</MenuItem>\n          <MenuItem value=\"Baloo Bhaina 2\">Baloo Bhaina</MenuItem>\n          <MenuItem value=\"Montserrat\">Montserrat</MenuItem>\n          <MenuItem value=\"Titillium Web\">Titillium Web</MenuItem>\n          <MenuItem value=\"Cairo\">Cairo</MenuItem>\n        </Select>\n      </FormControl>\n      <FormControl variant=\"outlined\" className={classes.formControl}>\n        <InputLabel id=\"font-size\">Size</InputLabel>\n        <Select\n          labelId=\"font-size\"\n          label=\"Size\"\n          onChange={onFontChange('fontSize')}\n          value={styles.fontSize}\n        >\n          <MenuItem value={6}> 6 px</MenuItem>\n          <MenuItem value={8}> 8 px</MenuItem>\n          <MenuItem value={10}> 10 px</MenuItem>\n          <MenuItem value={12}> 12 px</MenuItem>\n          <MenuItem value={14}> 14 px</MenuItem>\n          <MenuItem value={16}> 16 px</MenuItem>\n        </Select>\n      </FormControl>\n      <IconButton\n        arial-label=\"Emoji\"\n        onClick={() => setEmojiPickerVisibility(!isEmojiPickerVisible)}\n      >\n        <InsertEmoticonIcon className={classes.emojiIcon} />\n      </IconButton>\n      {isEmojiPickerVisible && (\n        <div className={classes.emojiPicker}>\n          <Picker\n            onSelect={selectEmoji}\n            style={{ width: 'unset', maxWidth: 345 }}\n          />\n        </div>\n      )}\n    </Toolbar>\n  );\n};\n\nFontToolbar.propTypes = {\n  addEmoji: PropTypes.func,\n  className: PropTypes.string,\n  fontFamily: PropTypes.string,\n  fontSize: PropTypes.string,\n  fontStyle: PropTypes.string,\n  onChange: PropTypes.func,\n};\n\nexport default FontToolbar;\n","import React from 'react';\nimport {\n  Card,\n  CardContent,\n  makeStyles,\n  CardHeader,\n  TextField,\n  Button,\n  InputAdornment,\n} from '@material-ui/core';\nimport Bmp from 'binary-bmp';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { useSelector, useDispatch } from 'react-redux';\nimport clsx from 'clsx';\nimport html2canvas from 'html2canvas';\nimport MatrixLCD from '../MatrixLCD';\nimport { textToBitmap } from '../MatrixLCD/utils';\nimport ColorPicker from '../Lightbar/LightbarSetting/color-picker';\nimport {\n  getBoardState,\n  setLedColor,\n  setBoardState,\n} from './scrolling-board-slice';\nimport { convertTextToBitmap } from './helpers';\nimport FontToolbar from './font-toolbar';\n\nconst useStyles = makeStyles({\n  root: {\n    alignItems: 'center',\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  matrixLCD: {\n    marginTop: 20,\n    textAlign: 'center',\n  },\n  card: {\n    width: '60vw',\n    marginTop: 20,\n  },\n  cardContent: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  row: {\n    alignItems: 'center',\n    display: 'flex',\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    justifyContent: 'center',\n    margin: '5px 0',\n  },\n  textField: {\n    margin: '5px 5px',\n  },\n  text: {\n    margin: '5px 5px',\n    '& input': {\n      fontFamily: (props) =>\n        (props.style && props.style.fontFamily) || 'Roboto',\n      fontSize: (props) => (props.style && props.style.fontSize) || 16,\n    },\n  },\n  fullwidth: {\n    width: '100%',\n  },\n  colorView: {\n    background: (props) => `rgba(${Object.values(props.ledColor)})`,\n    height: 25,\n    width: 25,\n  },\n});\n\nfunction ScrollingBoard() {\n  const dispatch = useDispatch();\n  const configs = useSelector(getBoardState);\n  const classes = useStyles(configs);\n  // const pixelStatus = [\n  //   { x: 0, y: 0, pixels: textToBitmap(configs.firstLine, 1) },\n  //   { x: 0, y: 8, pixels: textToBitmap(configs.secondLine, 1) },\n  // ];\n  const pixelStatus = [{ x: 0, y: 0, pixels: configs.imageData }];\n\n  const [showColorPicker, setShowColorPicker] = React.useState(false);\n  const [textStyles, setTextStyle] = React.useState();\n\n  const setColorPickerState = () => setShowColorPicker(!showColorPicker);\n\n  const onColorPickerChange = (color) => {\n    dispatch(setLedColor(color.rgb));\n\n    const style = { ...configs.style, textColor: color.hex };\n    dispatch(\n      setBoardState({\n        ...configs,\n        style,\n        imageData: convertTextToBitmap(configs.firstLine, style),\n      }),\n    );\n  };\n\n  const onChange = (e) =>\n    dispatch(setBoardState({ ...configs, [e.target.name]: +e.target.value }));\n\n  const onChangeText = (e) => {\n    dispatch(\n      setBoardState({\n        ...configs,\n        [e.target.name]: e.target.value,\n        imageData: convertTextToBitmap(e.target.value),\n      }),\n    );\n  };\n\n  const changeStyle = (style) => {\n    setTextStyle(style);\n    dispatch(\n      setBoardState({\n        ...configs,\n        style,\n        imageData: convertTextToBitmap(configs.firstLine, style),\n      }),\n    );\n  };\n\n  const addEmoji = (emoji) =>\n    dispatch(\n      setBoardState({\n        ...configs,\n        firstLine: `${configs.firstLine} ${emoji.native}`,\n        imageData: convertTextToBitmap(\n          `${configs.firstLine} ${emoji.native}`,\n          textStyles,\n        ),\n      }),\n    );\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.matrixLCD}>\n        <MatrixLCD\n          column={configs.column}\n          pixelColor={`rgba(${Object.values(configs.ledColor)})`}\n          pixelCornerRadius={configs.pixelCornerRadius}\n          pixelStatus={pixelStatus}\n          scrollSpeed={configs.scrollSpeed}\n          row={configs.row}\n        />\n      </div>\n      <Card className={classes.card}>\n        <CardHeader title=\"Message Board Setting\" />\n        <CardContent className={classes.cardContent}>\n          <div className={classes.row}>\n            <TextField\n              className={classes.textField}\n              label=\"Row\"\n              inputProps={{ max: 200, min: 0 }}\n              name=\"row\"\n              onChange={onChange}\n              size=\"small\"\n              type=\"number\"\n              value={configs.row}\n              variant=\"outlined\"\n            />\n            <CloseIcon />\n            <TextField\n              className={classes.textField}\n              label=\"Column\"\n              inputProps={{ max: 200, min: 0 }}\n              name=\"column\"\n              onChange={onChange}\n              size=\"small\"\n              type=\"number\"\n              value={configs.column}\n              variant=\"outlined\"\n            />\n            <TextField\n              className={classes.textField}\n              label=\"Pixel corner\"\n              inputProps={{ max: 360, min: 0 }}\n              name=\"pixelCornerRadius\"\n              onChange={onChange}\n              size=\"small\"\n              type=\"number\"\n              value={configs.pixelCornerRadius}\n              variant=\"outlined\"\n            />\n            <TextField\n              className={classes.textField}\n              label=\"Scroll Interval\"\n              inputProps={{ max: 1000, min: 0 }}\n              InputProps={{\n                endAdornment: (\n                  <InputAdornment position=\"end\">ms</InputAdornment>\n                ),\n              }}\n              name=\"scrollSpeed\"\n              onChange={onChange}\n              size=\"small\"\n              type=\"number\"\n              value={configs.scrollSpeed}\n              variant=\"outlined\"\n            />\n          </div>\n          <div className={classes.row}>\n            <TextField\n              className={classes.textField}\n              label=\"Red\"\n              inputProps={{ max: 255, min: 0 }}\n              name=\"red\"\n              onChange={onChange}\n              size=\"small\"\n              type=\"number\"\n              value={configs.ledColor.r}\n              variant=\"outlined\"\n              disabled\n            />\n            <TextField\n              className={classes.textField}\n              label=\"Green\"\n              inputProps={{ max: 255, min: 0 }}\n              name=\"green\"\n              onChange={onChange}\n              size=\"small\"\n              type=\"number\"\n              value={configs.ledColor.g}\n              variant=\"outlined\"\n              disabled\n            />\n            <TextField\n              className={classes.textField}\n              label=\"Blue\"\n              inputProps={{ max: 255, min: 0 }}\n              name=\"blue\"\n              onChange={onChange}\n              size=\"small\"\n              type=\"number\"\n              value={configs.ledColor.b}\n              variant=\"outlined\"\n              disabled\n            />\n            <Button\n              color=\"default\"\n              onClick={setColorPickerState}\n              variant=\"contained\"\n            >\n              <span className={classes.colorView} />\n            </Button>\n            {showColorPicker && (\n              <ColorPicker\n                onClick={setColorPickerState}\n                onChange={onColorPickerChange}\n                value={configs.ledColor}\n              />\n            )}\n          </div>\n          <div className={classes.row}>\n            <FontToolbar\n              className={classes.fullwidth}\n              onChange={changeStyle}\n              addEmoji={addEmoji}\n            />\n            <TextField\n              className={clsx([classes.text, classes.fullwidth])}\n              label=\"First Line\"\n              name=\"firstLine\"\n              onChange={onChangeText}\n              size=\"small\"\n              type=\"text\"\n              value={configs.firstLine}\n              variant=\"outlined\"\n            />\n          </div>\n          {/*\n          <div className={classes.row}>\n            <TextField\n              className={clsx([classes.textField, classes.fullwidth])}\n              label=\"Second Line\"\n              name=\"secondLine\"\n              onChange={onChangeText}\n              size=\"small\"\n              type=\"text\"\n              value={configs.secondLine}\n              variant=\"outlined\"\n            />\n          </div>\n          */}\n          <canvas className={classes.canvas} id=\"hidden-canvas\">\n            Your browser doesn't support canvas\n          </canvas>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n\nexport default ScrollingBoard;\n","import React from 'react';\nimport {\n  Card,\n  CardContent,\n  ButtonGroup,\n  Button,\n  makeStyles,\n  CardHeader,\n} from '@material-ui/core';\nimport { Redirect, useHistory } from 'react-router-dom';\n\nconst useStyles = makeStyles({\n  root: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    marginTop: 20,\n  },\n  card: {\n    width: '60vw',\n  },\n  cardContent: {\n    textAlign: 'center',\n  },\n  button: {\n    minHeight: 60,\n  },\n});\n\nfunction Platforms() {\n  const classes = useStyles();\n  const history = useHistory();\n  const route = (url) => () => history.push(url);\n\n  return (\n    <div className={classes.root}>\n      <Card className={classes.card}>\n        <CardHeader title=\"Select The Device\" />\n        <CardContent className={classes.cardContent}>\n          <ButtonGroup\n            className={classes.buttonGroup}\n            orientation=\"vertical\"\n            color=\"primary\"\n          >\n            <Button className={classes.button} onClick={route('/lightbars')}>\n              Lightbars Configurator\n            </Button>\n            <Button\n              className={classes.button}\n              onClick={route('/message-board')}\n            >\n              Message Board Configurator\n            </Button>\n          </ButtonGroup>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n\nexport default Platforms;\n","// eslint-disable no-parameter-reassign\n\nimport { createSlice } from '@reduxjs/toolkit';\n\nconst getDefaultSchema = (lightbar) => {\n  const schema = [];\n  if (lightbar) {\n    for (let i = 0; i < lightbar.front + lightbar.rear + 6; i += 1) {\n      schema.push([]);\n    }\n  }\n  return schema;\n};\n\nconst slice = createSlice({\n  name: 'lightbarSchema',\n  initialState: {\n    lightbar: null,\n    name: null,\n    schema: [],\n  },\n  reducers: {\n    setLightbar: (state, action) => {\n      state.lightbar = action.payload;\n      state.schema = getDefaultSchema(state.lightbar);\n    },\n    setName: (state, action) => {\n      state.name = action.payload;\n    },\n    setSchema: (state, action) => {\n      state.schema = action.payload;\n    },\n  },\n});\n\nexport const { setLightbar, setName, setSchema } = slice.actions;\n\nexport const getSchemaState = (state) => state.lightbarSchema;\nexport const getLightbar = (state) => state.lightbarSchema.lightbar;\nexport const getName = (state) => state.lightbarSchema.name;\nexport const getSchema = (state) => state.lightbarSchema.schema;\n\nexport default slice.reducer;\n","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Card, CardContent } from '@material-ui/core';\nimport { Redirect } from 'react-router-dom';\nimport { getDefaultLights } from '../../app/utils';\nimport { getLightbar } from '../LightbarSelector/lightbar-selector-slice';\nimport LightbarPreview from '../LightbarPreview';\nimport { setLightbar, getName, getSchema } from './lightbar-shema-slice';\n\nconst LightbarSchema = () => {\n  const lightbar = useSelector(getLightbar);\n  const dispose = useDispatch();\n  const name = useSelector(getName);\n  const shema = useSelector(getSchema);\n\n  React.useEffect(() => dispose(setLightbar(lightbar)), []);\n\n  if (!lightbar) {\n    return <Redirect to=\"/lightbars\" />;\n  }\n\n  const lights = getDefaultLights(lightbar);\n  const handleClick = (id) => console.log(id);\n  return (\n    <Card>\n      <CardContent>\n        <LightbarPreview lights={lights} onClick={handleClick} />\n      </CardContent>\n    </Card>\n  );\n};\n\nLightbarSchema.propTypes = {};\n\nexport default LightbarSchema;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core';\nimport { Switch, Route } from 'react-router-dom';\n\nimport { LightbarSelector } from './features/LightbarSelector';\nimport Header from './app/header';\nimport Lightbar from './features/Lightbar';\nimport ScrollingBoard from './features/ScrollingBoard';\n\nimport './App.css';\nimport Platforms from './features/Platforms';\nimport LightbarSchema from './features/LightbarSchema';\n\nconst useStyles = makeStyles({\n  root: {},\n});\n\nfunction App() {\n  const classes = useStyles();\n  return (\n    <div className={classes.root}>\n      <Header />\n      <Switch>\n        <Route path=\"/lightbars\">\n          <LightbarSelector />\n        </Route>\n        <Route path=\"/lightbar/schema\">\n          <LightbarSchema />\n        </Route>\n        <Route path=\"/lightbar\">\n          <Lightbar />\n        </Route>\n        <Route path=\"/message-board\">\n          <ScrollingBoard />\n        </Route>\n        <Route path=\"/\">\n          <Platforms />\n        </Route>\n      </Switch>\n    </div>\n  );\n}\nexport default App;\n","import { configureStore } from '@reduxjs/toolkit';\nimport lightbarSchemaReducer from '../features/LightbarSchema/lightbar-shema-slice';\nimport lightbarSelectorReducer from '../features/LightbarSelector/lightbar-selector-slice';\nimport lightbarReducer from '../features/Lightbar/ligther-slice';\nimport scrollingBoardReducer from '../features/ScrollingBoard/scrolling-board-slice';\n\nconst store = configureStore({\n  reducer: {\n    lightbarSchema: lightbarSchemaReducer,\n    lightbarSelector: lightbarSelectorReducer,\n    lightbar: lightbarReducer,\n    scrollingBoard: scrollingBoardReducer,\n  },\n});\n\nexport default store;\n","import { createMuiTheme } from '@material-ui/core/styles'\n\nconst theme = createMuiTheme();\n\nexport default theme;\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { MuiThemeProvider } from '@material-ui/core/styles';\r\nimport './index.css';\r\nimport App from './App';\r\nimport store from './app/store';\r\nimport theme from './app/theme';\r\nimport { Provider } from 'react-redux';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { BrowserRouter, HashRouter } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <MuiThemeProvider theme={theme}>\r\n    <Provider store={store}>\r\n      <HashRouter basename='/'>\r\n        <App />\r\n      </HashRouter>\r\n    </Provider>\r\n  </MuiThemeProvider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}