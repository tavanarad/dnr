(this["webpackJsonplightbar-redux"]=this["webpackJsonplightbar-redux"]||[]).push([[0],{221:function(e,t,a){e.exports=a(449)},226:function(e,t,a){},448:function(e,t,a){},449:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(16),o=a.n(r),c=a(503),i=(a(226),a(481)),s=a(64),u=a(490),m=a(491),d=a(53),h=a(492),f=a(452),g=a(8),b=a(450),p=a(484),v=a(485),x=[{model:"SL-24",front:2,rear:2},{model:"SL-30",front:3,rear:3},{model:"SL-36",front:4,rear:4},{model:"SL-42",front:5,rear:5},{model:"SL-48",front:6,rear:6},{model:"SL-54",front:7,rear:7},{model:"SL-60",front:8,rear:8},{model:"SL-66",front:9,rear:9},{model:"SL-72",front:10,rear:10},{model:"SL-78",front:11,rear:11},{model:"SL-84",front:12,rear:12},{model:"SL-90",front:13,rear:13},{model:"SL-96",front:14,rear:14}],E=[{title:"Amber",schema:["#FFBF00","#000000"]},{title:"Red",schema:["#FF0000","#000000"]},{title:"Green",schema:["#00FF00","#000000"]},{title:"Blue",schema:["#0000FF","#000000"]},{title:"Amber, Red",schema:["#FFBF00","#FF0000","#000000"]},{title:"Amber, Green",schema:["#FFBF00","#00FF00","#000000"]},{title:"Amber, Blue",schema:["#FFBF00","#0000FF","#000000"]},{title:"Red, Green",schema:["#FF0000","#00FF00","#000000"]},{title:"Red, Blue",schema:["#FF0000","#0000FF","#000000"]},{title:"Green, Blue",schema:["#00FF00","#0000FF","#000000"]},{title:"Amber, Red, Green",schema:["#FFBF00","#FF0000","#00FF00","#000000"]},{title:"Amber, Red, Blue",schema:["#FFBF00","#FF0000","#0000FF","#000000"]},{title:"Amber, Green, Blue",schema:["#FFBF00","#00FF00","#0000FF","#000000"]},{title:"Amber, Red, Green, Blue",schema:["#FFBF00","#FF0000","#00FF00","#0000FF","#000000"]},{title:"Full Color (RGB)",schema:[]}],y=a(49),w=Object(y.b)({name:"lightbarSelector",initialState:{selectedModel:null,selectedColorSchema:null,hasGreen:!1},reducers:{selectLightbar:function(e,t){e.selectedModel=t.payload},selectColorSchema:function(e,t){e.selectedColorSchema=t.payload},setHasGreen:function(e,t){e.hasGreen=t.payload}}}),C=w.actions,S=C.selectLightbar,j=C.selectColorSchema,F=(C.setHasGreen,function(e){return e.lightbarSelector.selectedModel}),O=function(e){return e.lightbarSelector.selectedColorSchema},k=function(e){return e.lightbarSelector.hasGreen},N=w.reducer,B=Object(i.a)({list:{border:"solid 1px lightgray",borderRadius:3,marginTop:10,marginBottom:10,maxHeight:150,overflow:"auto"}}),L=function(e){var t=e.onClick,a=e.selected,n=void 0===a?null:a;return x.map((function(e){return l.a.createElement(b.a,{selected:(null===n||void 0===n?void 0:n.model)===e.model,key:e.model,onClick:function(){return t(e)},button:!0},l.a.createElement(p.a,{primary:e.model,secondary:"Front ".concat(e.front," / Rear ").concat(e.rear)}))}))};var R=function(){var e=B(),t=Object(g.c)(F);console.log(t);var a=Object(g.b)();return l.a.createElement(v.a,{className:e.list},l.a.createElement(L,{onClick:function(e){return a(S(e))},selected:t}))},D=a(5),P=a(507),z=a(504),A=a(489),I=a(113),W=Object(i.a)((function(e){return{select:{width:"100%",marginTop:e.spacing(2)},switch:{marginTop:e.spacing(2)}}}));Object(D.a)({switchBase:{color:I.a[300],"&$checked":{color:I.a[500]},"&$checked + $track":{backgroundColor:I.a[500]}},checked:{},track:{}})(P.a);var G=function(){var e=W(),t=Object(g.b)(),a=Object(g.c)(O);return Object(g.c)(k),l.a.createElement(l.a.Fragment,null,l.a.createElement(z.a,{value:a||"",onChange:function(e){return t(j(e.target.value))},displayEmpty:!0,className:e.select,inputProps:{"aria-label":"Without label"}},l.a.createElement(A.a,{value:null},l.a.createElement("em",null,"---")),E.map((function(e){return l.a.createElement(A.a,{key:e.title,value:e},e.title)}))))},T=Object(i.a)({root:{display:"flex",flexDirection:"row",alignContent:"stretch",justifyContent:"center",minHeight:400,marginTop:20},card:{width:500},subtitle:{fontSize:14},button:{justifyContent:"flex-end"}});function H(){var e=T(),t=Object(s.g)(),a=Object(g.c)(F),n=Object(g.c)(O);return l.a.createElement("div",{className:e.root},l.a.createElement(u.a,{className:e.card},l.a.createElement(m.a,null,l.a.createElement(d.a,{variant:"h6"},"Lightbars"),l.a.createElement(d.a,{className:e.subtitle},"Select a lightbar model to configure"),l.a.createElement(R,null),l.a.createElement(d.a,{variant:"h6"},"Color Schema"),l.a.createElement(d.a,{className:e.subtitle},"Select the color schema of the lightbar"),l.a.createElement(G,null)),l.a.createElement(h.a,{className:e.button},l.a.createElement(f.a,{color:"primary",disabled:!a||!n,variant:"contained",onClick:function(){return t.push("/lightbar")}},"Start Configurator"))))}var M=a(26),V=a(493),$=a(494),U=a(486),J=a(214),q=a(206),Y=a.n(q),K=a(204),Q=a.n(K),X=a(205),Z=a.n(X),_=a(31),ee=a(35),te=a(203),ae=a.n(te),ne=function(e){return Object.values(e).map((function(e){return function(e){var t=Number(e).toString(16);return t.length<2&&(t="0".concat(t)),t}(e)})).join("")},le=function(e){if(!e||!e.length)return null;var t=e[0].lights.length,a=3+e.length*t*3,n=new ArrayBuffer(a),l=new DataView(n);l.setUint8(0,t),l.setUint16(1,e.length);var r=3;return e.forEach((function(e){return e.lights.forEach((function(e){return[(e.color.r*e.color.a).toFixed(0),(e.color.g*e.color.a).toFixed(0),(e.color.b*e.color.a).toFixed(0)].forEach((function(e){return l.setUint8(r++,e)}))}))})),new Blob([l.buffer],{type:"application/octet-stream"})},re=function(e){for(var t=new ArrayBuffer(8*Math.ceil(e.length/8)*e[0].length*3),a=new DataView(t),n=0;n<Math.ceil(e.length/8);n+=1)for(var l=0;l<e[0].length;l+=1)for(var r=function(t){var r=8*n*e[0].length*3+8*l+3*t;e[8*n+t]?e[8*n+t][l].forEach((function(e,t){return a.setUint8(r+t,e)})):[0,0,0].forEach((function(e,t){return a.setUint8(r+t,e)}))},o=0;o<8;o+=1)r(o);return new Blob([a.buffer],{type:"application/octet-stream"})},oe=function(e){return new Blob([JSON.stringify(e)],{type:"application/json"})},ce=function(e,t){ae.a.saveAs(e,t)},ie=function(e){return Object(ee.a)(Array(e.front+e.rear+6).keys()).map((function(){return{color:{r:0,g:0,b:0,a:1}}}))},se={lightbar:null,cycles:[],selectedCycle:0,selectedLight:0,showPreview:!1,latestSelectedColor:null},ue=Object(y.b)({name:"lightbar",initialState:se,reducers:{setLightbar:function(e,t){return Object(_.a)({},se,{lightbar:t.payload})},setSelectedCycle:function(e,t){e.selectedCycle=t.payload},setSelectedLight:function(e,t){e.latestSelectedColor&&(e.cycles[e.selectedCycle].lights[t.payload].color=e.latestSelectedColor),e.selectedLight=t.payload},addCycle:function(e,t){e.cycles.push({lights:t.payload||ie(e.lightbar)}),e.selectedCycle=e.cycles.length-1},duplicateCycle:function(e){e.cycles.push(e.cycles[e.selectedCycle]),e.selectedCycle=e.cycles.length-1},deleteCycle:function(e,t){e.cycles.splice(t.payload,1)},setLightSetting:function(e,t){e.cycles[e.selectedCycle].lights[e.selectedLight]=t.payload,e.latestSelectedColor=t.payload.color},setInitialState:function(e){se},setShowPreview:function(e,t){e.showPreview=t.payload},saveAsFile:function(e,t){var a=t.payload?[oe({lightbar:e.lightbar,cycles:e.cycles}),"json"]:[le(e.cycles),"bin"],n=Object(M.a)(a,2),l=n[0],r=n[1];ce(l,"".concat(e.lightbar.model,"-").concat((new Date).getTime(),".").concat(r))}}}),me=ue.actions,de=me.setLightbar,he=me.setSelectedCycle,fe=me.setSelectedLight,ge=me.addCycle,be=me.duplicateCycle,pe=me.deleteCycle,ve=me.setLightSetting,xe=(me.setInitialState,me.setShowPreview),Ee=me.saveAsFile,ye=function(e){return e.lightbar.cycles},we=function(e){return e.lightbar.selectedCycle},Ce=function(e){return e.lightbar.selectedLight},Se=function(e){return e.lightbar.showPreview},je=ue.reducer,Fe=function(e,t){if(!e||""===e.trim())return[];var a=document.createElement("canvas"),n=Object(_.a)({},{fontFamily:"Open Sans",fontSize:14,fontStyle:"bold",textColor:"#00ff00",backgroundColor:"rgba(0, 0, 0)"},{},t),l="".concat(n.fontStyle," ").concat(n.fontSize,"px ").concat(n.fontFamily);console.log(l),a.width=function(e,t){var a=document.createElement("canvas").getContext("2d");return a.font=t,a.measureText(e).width}(e,l).toFixed(0),a.height=16;var r=a.getContext("2d");return r.textBaseline="middle",r.fillStyle=n.backgroundColor,r.fillRect(0,0,a.width,a.height),r.font=l,r.fillStyle=n.textColor,r.fillText(e,0,8),function(e){for(var t=[],a=0;a<e.width;a+=1){for(var n=[],l=0;l<e.height;l+=1){var r=l*e.width*4+4*a;n.push([e.data[r]<100?0:e.data[r],e.data[r+1]<100?0:e.data[r+1],e.data[r+2]<100?0:e.data[r+2]])}t.push(n)}return t}(r.getImageData(0,0,a.width,a.height))},Oe=Object(y.b)({name:"scrollingBoard",initialState:{column:48,firstLine:"Hello World \u26d4 \u0633\u0644\u0627\u0645 \u062f\u0646\u06cc\u0627 \ud83d\ude01",imageData:Fe("Hello World \u26d4 \u0633\u0644\u0627\u0645 \u062f\u0646\u06cc\u0627 \ud83d\ude01"),ledColor:{r:0,g:255,b:0,a:1},pixelCornerRadius:0,pixelSize:10,row:16,secondLine:"Line 2",scrollSpeed:50,spaceBetweenPixels:null,style:null},reducers:{setColumn:function(e,t){e.column=t.payload},setImageData:function(e,t){e.imageData=t.payload},setFirstLine:function(e,t){e.firstLine=t.payload},setLedColor:function(e,t){e.ledColor=t.payload},setPixelCornerRadius:function(e,t){e.pixelCornerRadius=t.payload},setRow:function(e,t){e.row=t.payload},setSecondLine:function(e,t){e.secondLine=t.payload},setScrollSpeed:function(e,t){e.scrollSpeed=t.payload},setBoardState:function(e,t){return t.payload},exportData:function(e,t){var a=t.payload?[oe(e.imageData),"json"]:[re(e.imageData),"bin"],n=Object(M.a)(a,2),l=n[0],r=n[1];ce(l,"message-board-".concat((new Date).getTime(),".").concat(r))}}}),ke=Oe.actions,Ne=ke.exportData,Be=(ke.setColumn,ke.setFirstLine,ke.setImageData,ke.setLedColor),Le=(ke.setRow,ke.setSecondLine,ke.setScrollSpeed,ke.setBoardState),Re=function(e){return e.scrollingBoard},De=Oe.reducer,Pe=Object(i.a)((function(e){return{menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},previewButton:{color:"#ffffff",borderColor:"#ffffff"}}}));var ze=function(){var e=Pe(),t=Object(s.h)(),a=Object(s.g)(),r=Object(n.useState)({showPreview:!1,showExport:!1}),o=Object(M.a)(r,2),c=o[0],i=o[1],u=l.a.useState(null),m=Object(M.a)(u,2),h=m[0],b=m[1],p=Object(g.b)(),v=function(e){return function(){t.pathname.search(/lightbar$/)>-1?void 0!==e&&p(Ee(e)):t.pathname.search(/message-board/)>-1&&void 0!==e&&p(Ne(e)),b(null)}};return Object(n.useEffect)((function(){t.pathname.search(/lightbar$/)>0?i({showPreview:!0,showExport:!0}):t.pathname.search(/message-board/)>0?i({showPreview:!1,showExport:!0}):i({showPreview:!1,showExport:!1})}),[t]),l.a.createElement(V.a,{position:"static"},l.a.createElement($.a,null,l.a.createElement(U.a,{edge:"start",color:"inherit","aria-label":"Menu",onClick:function(){return a.replace("/")}},l.a.createElement(Q.a,null)),l.a.createElement(d.a,{variant:"h6",className:e.title},"DandR Electronic Lighbar Configurator"),c.showPreview&&l.a.createElement(f.a,{className:e.previewButton,onClick:function(){return p(xe(!0))},startIcon:l.a.createElement(Z.a,null),variant:"outlined"},"Preview"),c.showExport&&l.a.createElement(U.a,{"aria-label":"Download",color:"inherit",edge:"end",onClick:function(e){return b(e.currentTarget)}},l.a.createElement(Y.a,null)),l.a.createElement(J.a,{id:"simple-menu",anchorEl:h,keepMounted:!0,open:Boolean(h),onClose:v()},l.a.createElement(A.a,{onClick:v(!1)},"Export BIN"),l.a.createElement(A.a,{onClick:v(!0)},"Export JSON"))))},Ae=(a(153),a(42)),Ie=Object(i.a)({root:{display:"flex",flexDirection:"row",height:function(e){return e.width?"auto":200},justifyContent:"center",marginLeft:10,maxWidth:750,minWidth:function(e){return e.width||500},width:function(e){return e.width||"100%"}}}),We=function(e){var t=e.fill,a=(e.getStrokeColor,e.height),n=e.onClick,r=(e.overlay,e.rotation),o=e.scale,c=e.shadowBlur,i=e.stroke,s=e.text,u=e.width,m=e.x,d=e.y;return l.a.createElement(l.a.Fragment,null,l.a.createElement(Ae.Rect,{fill:t,height:a,cornerRadius:5,onClick:n,rotation:r,shadowBlur:c,stroke:i,width:u,x:m,y:d}),s&&l.a.createElement(Ae.Text,{align:"center",fontSize:10*o,height:a,rotation:r,text:s,verticalAlign:"middle",width:u,x:m,y:d}))};var Ge=function(e){var t=e.lights,a=void 0===t?[]:t,r=e.onClick,o=e.selectedLight,c=(e.title,e.width),i=Ie({width:c}),s=Object(n.useRef)();if(!a.length)return null;var u=a.slice(0,(a.length-6)/2),m=a.slice(u.length+3,-3),d=114+45*u.length,h=(c||d)/d,f=u.length*(45*h),g=5*h,b=function(e){return function(){return r&&r(e)}},p=function(e){return o===e?"red":null},v=function(e){var t=e.r,a=e.g,n=e.b,l=e.a;return"#".concat(ne({r:(t*l).toFixed(0),g:(a*l).toFixed(0),b:(n*l).toFixed(0)}))};return l.a.createElement("div",{ref:s,className:i.root},l.a.createElement(Ae.Stage,{width:d*h,height:200*h},l.a.createElement(Ae.Layer,{x:57*h},u.map((function(e,t){return l.a.createElement(We,{fill:v(e.color),height:24*h,index:t,key:t,stroke:p(t),text:e.text,onClick:b(t),scale:h,shadowBlur:g,width:40*h,x:45*t*h,y:20*h})}))),l.a.createElement(Ae.Layer,{rotation:-180,x:114*h+f,y:184*h},l.a.createElement(We,{x:58*h,y:44*h,width:40*h,height:24*h,fill:v(a[u.length+2].color),rotation:135,text:a[u.length+2].text,shadowBlur:g,cornerRadius:5,onClick:b(u.length+2),stroke:p(u.length+2),scale:h}),l.a.createElement(We,{x:30*h,y:73*h,width:40*h,height:24*h,fill:v(a[u.length+1].color),shadowBlur:g,text:a[u.length+1].text,rotation:90,cornerRadius:5,onClick:b(u.length+1),stroke:p(u.length+1),scale:h}),l.a.createElement(We,{x:30*h,y:113*h,width:40*h,height:24*h,fill:v(a[u.length].color),shadowBlur:g,text:a[u.length].text,rotation:45,cornerRadius:5,onClick:b(u.length),stroke:p(u.length),scale:h})),l.a.createElement(Ae.Layer,{x:57*h},m.map((function(e,t){return l.a.createElement(We,{key:t,x:45*t*h,y:140*h,width:40*h,height:24*h,fill:v(a[a.length-4-t].color),shadowBlur:g,text:a[a.length-4-t].text,cornerRadius:5,onClick:b(a.length-4-t),stroke:p(a.length-4-t),scale:h})}))),l.a.createElement(Ae.Layer,null,l.a.createElement(We,{x:55*h,y:44*h,width:40*h,height:24*h,fill:v(a[a.length-1].color),text:a[a.length-1].text,shadowBlur:g,rotation:135,cornerRadius:5,onClick:b(a.length-1),stroke:p(a.length-1),scale:h}),l.a.createElement(We,{x:27*h,y:73*h,width:40*h,height:24*h,fill:v(a[a.length-2].color),text:a[a.length-2].text,shadowBlur:g,rotation:90,cornerRadius:5,onClick:b(a.length-2),stroke:p(a.length-2),scale:h}),l.a.createElement(We,{x:27*h,y:113*h,width:40*h,height:24*h,fill:v(a[a.length-3].color),text:a[a.length-3].text,shadowBlur:g,rotation:45,cornerRadius:5,onClick:b(a.length-3),stroke:p(a.length-3),scale:h}))))},Te=a(59),He=a(495),Me=a(506),Ve=a(496),$e=a(497),Ue=Object(i.a)({});var Je=function(){Ue();var e=Object(Te.a)(),t=Object(n.useState)(!1),a=Object(M.a)(t,2),r=(a[0],a[1],Object(He.a)(e.breakpoints.down("sm"))),o=Object(g.c)(Se),c=Object(g.c)(ye),i=Object(g.b)(),s=Object(n.useState)(0),u=Object(M.a)(s,2),m=u[0],d=u[1];return Object(n.useEffect)((function(){var e=setInterval((function(){d(m+1<c.length?m+1:0)}),50);return function(){return clearInterval(e)}})),l.a.createElement("div",null,l.a.createElement(Me.a,{fullScreen:r,open:o,onClose:function(){return i(xe(!1))},"aria-labelledby":"responsive-dialog-title"},l.a.createElement(Ve.a,{id:"responsive-dialog-title"},"Lightbar Preview"),l.a.createElement($e.a,null,c&&c[m]&&l.a.createElement(Ge,{lights:c[m].lights}))))},qe=a(46),Ye=a(498),Ke=a(509),Qe=a(112),Xe=a(111),Ze=a(7),_e=a.n(Ze),et=a(48),tt=a.n(et),at=a(32),nt=a.n(at),lt=a(37),rt=a.n(lt),ot=a(14),ct=function(e){var t=e.onChange,a=e.onSwatchHover,n=(e.hex,e.colors),r=e.width,o=e.triangle,c=e.styles,i=void 0===c?{}:c,s=e.className,u=void 0===s?"":s,m=_e()(nt()({default:{card:{width:r,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px",height:40},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},i),{"hide-triangle":"hide"===o,"top-left-triangle":"top-left"===o,"top-right-triangle":"top-right"===o}),d=function(e,a){rt.a.isValidHex(e)&&t({hex:e,source:"hex"},a)};return l.a.createElement("div",{style:m.card,className:"twitter-picker ".concat(u)},l.a.createElement("div",{style:m.triangleShadow}),l.a.createElement("div",{style:m.triangle}),l.a.createElement("div",{style:m.body},tt()(n,(function(e,t){return l.a.createElement(ot.Swatch,{key:t,color:e,hex:e,style:m.swatch,onClick:d,onHover:a,focusStyle:{boxShadow:"0 0 4px ".concat(e)}})}))))};ct.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};var it=Object(ot.ColorWrap)(ct),st=Object(i.a)({root:{position:"fixed",margin:"-50px 40px",zIndex:2,backgroundColor:"white"},pallete:{backgroundColor:"white",position:"absolute",zIndex:"2"},innerPallete:{position:"fixed",top:0,right:0,bottom:0,left:0}}),ut=function(e){var t=e.colors,a=e.value,n=e.onClick,r=e.onChange,o=st({colors:t});return l.a.createElement("div",{className:o.root},l.a.createElement("div",{className:o.pallete},l.a.createElement("div",{className:o.innerPallete,onClick:n}),(null===t||void 0===t?void 0:t.length)?l.a.createElement(it,{colors:t,hex:!1,triangle:"hide",onChange:r}):l.a.createElement(Xe.SketchPicker,{presetColors:["#FFBF00","#FF0000","#00FF00","#0000FF","#000000"],color:a,onChange:r,disableAlpha:!0})))},mt=Object(i.a)({root:{minWidth:400,maxWidth:500},card:{},cardHeader:{color:"#ffffff",backgroundColor:Qe.a[500]},cardContent:{},colorInfo:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},colorView:{width:25,height:25,backgroundColor:function(e){return"rgb(".concat(Object.values(e.color),")")}}});var dt=function(e){var t=e.colors,a=e.config,r=e.onChange,o=mt({color:(null===a||void 0===a?void 0:a.color)||{r:255,g:255,b:255}}),c=Object(n.useState)(!1),i=Object(M.a)(c,2),s=i[0],h=i[1],g=function(e){var t=e.target;console.log(t.value),r({color:Object(_.a)({},null===a||void 0===a?void 0:a.color,Object(qe.a)({},t.name,+t.value>=0&&+t.value<=255?t.value.trim():null===a||void 0===a?void 0:a.color[t.name]))})},b=function(){return h(!s)};return l.a.createElement("div",{className:o.root},l.a.createElement(u.a,{className:o.card},l.a.createElement(Ye.a,{className:o.cardHeader,title:"Set the color"}),l.a.createElement(m.a,{className:o.cardContent},a?l.a.createElement("div",{className:o.colorInfo},t.length?l.a.createElement(Xe.AlphaPicker,{color:a.color,onChange:function(e){console.log(e),r({color:e.rgb})},width:280}):l.a.createElement(l.a.Fragment,null,l.a.createElement(Ke.a,{label:"Red",inputProps:{max:255,min:0},name:"r",onChange:g,size:"small",type:"number",value:a.color?a.color.r:255,variant:"outlined"}),l.a.createElement(Ke.a,{label:"Green",inputProps:{max:255,min:0},name:"g",onChange:g,size:"small",type:"number",value:a.color?a.color.g:255,variant:"outlined"}),l.a.createElement(Ke.a,{label:"Blue",inputProps:{max:255,min:0},name:"b",onChange:g,size:"small",type:"number",value:a.color?a.color.b:255,variant:"outlined"})),l.a.createElement(f.a,{color:"default",onClick:b,variant:"contained"},l.a.createElement("span",{className:o.colorView})),s&&l.a.createElement(ut,{colors:t,onClick:b,onChange:function(e){return r({color:e.rgb})},value:null===a||void 0===a?void 0:a.color})):l.a.createElement(d.a,{variant:"h6"},"Please select a light module from the lightbar preview to set the color."))))},ht=a(209),ft=a.n(ht),gt=a(208),bt=a.n(gt),pt=a(500),vt=a(207),xt=a.n(vt),Et=Object(i.a)({root:{width:"100%",overflow:"auto",maxHeight:400},item:{height:75}}),yt=function(e){var t=e.className,a=e.id,n=e.lights,r=e.onClick,o=e.onDelete,c=e.selected;return l.a.createElement(b.a,{alignItems:"center",className:t,selected:c,onClick:r,button:!0},l.a.createElement(p.a,{primary:"Cycle #".concat(a+1)}),l.a.createElement(Ge,{lights:n,width:10*(n.length-6)}),l.a.createElement(pt.a,null,l.a.createElement(U.a,{"arial-label":"delete",edge:"end",onClick:o},l.a.createElement(xt.a,null))))};var wt=function(){var e=Et(),t=Object(g.c)(ye),a=Object(g.c)(we),n=Object(g.b)(),r=function(e){return function(){return n(pe(e))}};return l.a.createElement(v.a,{className:e.root},t.map((function(t,o){return l.a.createElement(yt,{className:e.item,key:o,id:o,lights:t.lights,onClick:(c=o,function(){return n(he(c))}),onDelete:r(o),selected:o===a});var c})))},Ct=Object(i.a)({action:{color:"#ffffff"},card:{},cardHeader:{color:"#ffffff",backgroundColor:Qe.a[500]},root:{}});var St=function(){var e=Ct(),t=Object(g.b)();return l.a.createElement("div",{className:e.root},l.a.createElement(u.a,{className:e.card},l.a.createElement(Ye.a,{className:e.cardHeader,action:l.a.createElement(l.a.Fragment,null,l.a.createElement(U.a,{"arial-label":"Add a new cycle",className:e.action,onClick:function(){return t(be())}},l.a.createElement(bt.a,null)),l.a.createElement(U.a,{"arial-label":"Add a new cycle",className:e.action,onClick:function(){return t(ge())}},l.a.createElement(ft.a,null))),title:"Cycles"}),l.a.createElement(m.a,null,l.a.createElement(wt,null))))},jt=Object(i.a)({root:{display:"flex",flexDirection:"row",marginTop:20,padding:"0 16px",alignContent:"space-between",flexWrap:function(e){return e.mqMatches?null:"wrap-reverse"}},cycles:{minWidth:400,flexGrow:1,bottom:0},details:{flexGrow:2,display:"flex",flexDirection:"column",alignItems:"center",alignContent:"stretch",padding:"0 10px"}});var Ft=function(){var e,t,a=Object(He.a)("(min-width: 800px)"),r=jt({mqMatches:a}),o=Object(g.b)(),c=Object(g.c)(F),i=Object(g.c)(we),u=Object(g.c)(Ce),m=Object(g.c)(ye),d=Object(g.c)(F),h=Object(g.c)(Se),f=Object(g.c)(O);return Object(n.useEffect)((function(){o(de(c))}),[]),Object(n.useEffect)((function(){d&&o(ge())}),[d]),c?(console.log(i),l.a.createElement(l.a.Fragment,null,!!d&&l.a.createElement("div",{className:r.root},l.a.createElement("div",{className:r.cycles},l.a.createElement(St,null)),l.a.createElement("div",{className:r.details},l.a.createElement(Ge,{lights:null===(e=m[i])||void 0===e?void 0:e.lights,onClick:function(e){return o(fe(e))},selectedLight:u,title:c.model}),l.a.createElement(dt,{config:null===(t=m[i])||void 0===t?void 0:t.lights[u],colors:f.schema,onChange:function(e){return o(ve(e))}}))),h&&l.a.createElement(Je,null))):l.a.createElement(s.a,{to:"/"})},Ot=a(501),kt=(a(442),a(211)),Nt=a.n(kt),Bt=a(4),Lt=(a(445),Object(i.a)({root:{backgroundColor:function(e){return e.backgroundColor||"#565656"},borderRadius:4,borderColor:"#333",display:"inline-block",padding:5,margin:5}}));var Rt=function(e){var t=e.backgroundColor,a=e.column,n=(e.hasGlow,e.pixelColor,e.pixelCornerRadius),r=e.pixelSize,o=void 0===r?10:r,c=e.pixelStatus,i=void 0===c?[]:c,s=e.row,u=e.scrollSpeed,m=void 0===u?1e3:u,d=e.space,h=void 0===d?2:d,f=Lt({backgroundColor:t}),g=window.innerWidth-100<(o+h)*a?(window.innerWidth-100)/((o+h)*a):1,b=(o+h)*g,p=l.a.useState(0),v=Object(M.a)(p,2),x=(v[0],v[1]);l.a.useEffect((function(){var e=0;return i[0].pixels.length>a&&(i[0].pixels=[].concat(Object(ee.a)(i[0].pixels),Object(ee.a)(new Array(a).keys()))),i.forEach((function(t,n){t.pixels.length&&t.pixels.length>a&&(t.pixels=Object(ee.a)(t.pixels),e=setInterval((function(){i[n].pixels.push(i[n].pixels.shift()),x((function(e){return e+1}))}),m))})),function(){e&&clearInterval(e)}}),[i]);var E=function(e,t){var a="rgba(0, 0, 0, 0.1)";return i.forEach((function(n){t>=n.x&&e>=n.y&&n.pixels[t-n.x]&&n.pixels[t-n.x][e]&&"000"!==n.pixels[t-n.x][e].join("")&&(a="rgba(".concat(n.pixels[t-n.x][e],")"))})),a};return l.a.createElement("div",{className:f.root},l.a.createElement(Ae.Stage,{width:b*a,height:b*s},l.a.createElement(Ae.Layer,{x:0,y:0},Object(ee.a)(Array(s).keys()).map((function(e){return Object(ee.a)(Array(a).keys()).map((function(t){return l.a.createElement(Ae.Rect,{key:"".concat(e,"-").concat(t),cornerRadius:n||0,fill:E(e,t),x:h+b*t,y:h+b*e,width:o*g,height:o*g})}))})).flat())))},Dt=a(499),Pt=a(510),zt=a(210),At=a.n(zt),It=a(212),Wt=(a(447),Object(i.a)((function(e){return{emojiIcon:{fontSize:30},emojiPicker:{position:"absolute",zIndex:999},formControl:{margin:e.spacing(1),minWidth:120},toolbar:{flexWrap:"wrap",padding:"unset"}}}))),Gt=function(e){var t=e.addEmoji,a=void 0===t?function(){return null}:t,n=e.className,r=e.fontFamily,o=void 0===r?"Open Sans":r,c=e.fontSize,i=void 0===c?14:c,s=e.fontStyle,u=void 0===s?"bold":s,m=e.onChange,d=void 0===m?function(){return null}:m,h=Wt(),f=l.a.useState({fontFamily:o,fontSize:i,fontStyle:u}),g=Object(M.a)(f,2),b=g[0],p=g[1],v=l.a.useState(!1),x=Object(M.a)(v,2),E=x[0],y=x[1],w=function(e){return function(t){p(Object(_.a)({},b,Object(qe.a)({},e,t.target.value))),d(Object(_.a)({},b,Object(qe.a)({},e,t.target.value)))}};return l.a.createElement($.a,{className:Object(Bt.a)(h.toolbar,n)},l.a.createElement(Dt.a,{variant:"outlined",className:h.formControl},l.a.createElement(Pt.a,{id:"font-family"},"Font"),l.a.createElement(z.a,{edge:"start",labelId:"font-family",label:"Font",onChange:w("fontFamily"),value:b.fontFamily},l.a.createElement(A.a,{value:"Roboto"},"Roboto"),l.a.createElement(A.a,{value:"Roboto Mono"},"Roboto Mono"),l.a.createElement(A.a,{value:"Open Sans"},"Open Sans"),l.a.createElement(A.a,{value:"Baloo Bhaina 2"},"Baloo Bhaina"),l.a.createElement(A.a,{value:"Montserrat"},"Montserrat"),l.a.createElement(A.a,{value:"Titillium Web"},"Titillium Web"),l.a.createElement(A.a,{value:"Cairo"},"Cairo"))),l.a.createElement(Dt.a,{variant:"outlined",className:h.formControl},l.a.createElement(Pt.a,{id:"font-size"},"Size"),l.a.createElement(z.a,{labelId:"font-size",label:"Size",onChange:w("fontSize"),value:b.fontSize},l.a.createElement(A.a,{value:6}," 6 px"),l.a.createElement(A.a,{value:8}," 8 px"),l.a.createElement(A.a,{value:10}," 10 px"),l.a.createElement(A.a,{value:12}," 12 px"),l.a.createElement(A.a,{value:14}," 14 px"),l.a.createElement(A.a,{value:16}," 16 px"))),l.a.createElement(U.a,{"arial-label":"Emoji",onClick:function(){return y(!E)}},l.a.createElement(At.a,{className:h.emojiIcon})),E&&l.a.createElement("div",{className:h.emojiPicker},l.a.createElement(It.a,{onSelect:function(e){y(!1),a(e)},style:{width:"unset",maxWidth:345}})))},Tt=Object(i.a)({root:{alignItems:"center",display:"flex",flexDirection:"column"},matrixLCD:{marginTop:20,textAlign:"center"},card:{width:"60vw",marginTop:20},cardContent:{display:"flex",flexDirection:"column"},row:{alignItems:"center",display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",margin:"5px 0"},textField:{margin:"5px 5px"},text:{margin:"5px 5px","& input":{fontFamily:function(e){return e.style&&e.style.fontFamily||"Roboto"},fontSize:function(e){return e.style&&e.style.fontSize||16}}},fullwidth:{width:"100%"},colorView:{background:function(e){return"rgba(".concat(Object.values(e.ledColor),")")},height:25,width:25}});var Ht=function(){var e=Object(g.b)(),t=Object(g.c)(Re),a=Tt(t),n=[{x:0,y:0,pixels:t.imageData}],r=l.a.useState(!1),o=Object(M.a)(r,2),c=o[0],i=o[1],s=l.a.useState(),d=Object(M.a)(s,2),h=d[0],b=d[1],p=function(){return i(!c)},v=function(a){return e(Le(Object(_.a)({},t,Object(qe.a)({},a.target.name,+a.target.value))))};return l.a.createElement("div",{className:a.root},l.a.createElement("div",{className:a.matrixLCD},l.a.createElement(Rt,{column:t.column,pixelColor:"rgba(".concat(Object.values(t.ledColor),")"),pixelCornerRadius:t.pixelCornerRadius,pixelStatus:n,scrollSpeed:t.scrollSpeed,row:t.row})),l.a.createElement(u.a,{className:a.card},l.a.createElement(Ye.a,{title:"Message Board Setting"}),l.a.createElement(m.a,{className:a.cardContent},l.a.createElement("div",{className:a.row},l.a.createElement(Ke.a,{className:a.textField,label:"Row",inputProps:{max:200,min:0},name:"row",onChange:v,size:"small",type:"number",value:t.row,variant:"outlined"}),l.a.createElement(Nt.a,null),l.a.createElement(Ke.a,{className:a.textField,label:"Column",inputProps:{max:200,min:0},name:"column",onChange:v,size:"small",type:"number",value:t.column,variant:"outlined"}),l.a.createElement(Ke.a,{className:a.textField,label:"Pixel corner",inputProps:{max:360,min:0},name:"pixelCornerRadius",onChange:v,size:"small",type:"number",value:t.pixelCornerRadius,variant:"outlined"}),l.a.createElement(Ke.a,{className:a.textField,label:"Scroll Interval",inputProps:{max:1e3,min:0},InputProps:{endAdornment:l.a.createElement(Ot.a,{position:"end"},"ms")},name:"scrollSpeed",onChange:v,size:"small",type:"number",value:t.scrollSpeed,variant:"outlined"})),l.a.createElement("div",{className:a.row},l.a.createElement(Ke.a,{className:a.textField,label:"Red",inputProps:{max:255,min:0},name:"red",onChange:v,size:"small",type:"number",value:t.ledColor.r,variant:"outlined",disabled:!0}),l.a.createElement(Ke.a,{className:a.textField,label:"Green",inputProps:{max:255,min:0},name:"green",onChange:v,size:"small",type:"number",value:t.ledColor.g,variant:"outlined",disabled:!0}),l.a.createElement(Ke.a,{className:a.textField,label:"Blue",inputProps:{max:255,min:0},name:"blue",onChange:v,size:"small",type:"number",value:t.ledColor.b,variant:"outlined",disabled:!0}),l.a.createElement(f.a,{color:"default",onClick:p,variant:"contained"},l.a.createElement("span",{className:a.colorView})),c&&l.a.createElement(ut,{onClick:p,onChange:function(a){e(Be(a.rgb));var n=Object(_.a)({},t.style,{textColor:a.hex});e(Le(Object(_.a)({},t,{style:n,imageData:Fe(t.firstLine,n)})))},value:t.ledColor})),l.a.createElement("div",{className:a.row},l.a.createElement(Gt,{className:a.fullwidth,onChange:function(a){b(a),e(Le(Object(_.a)({},t,{style:a,imageData:Fe(t.firstLine,a)})))},addEmoji:function(a){return e(Le(Object(_.a)({},t,{firstLine:"".concat(t.firstLine," ").concat(a.native),imageData:Fe("".concat(t.firstLine," ").concat(a.native),h)})))}}),l.a.createElement(Ke.a,{className:Object(Bt.a)([a.text,a.fullwidth]),label:"First Line",name:"firstLine",onChange:function(a){var n;e(Le(Object(_.a)({},t,(n={},Object(qe.a)(n,a.target.name,a.target.value),Object(qe.a)(n,"imageData",Fe(a.target.value)),n))))},size:"small",type:"text",value:t.firstLine,variant:"outlined"})),l.a.createElement("canvas",{className:a.canvas,id:"hidden-canvas"},"Your browser doesn't support canvas"))))},Mt=(a(448),a(502)),Vt=Object(i.a)({root:{display:"flex",flexDirection:"row",justifyContent:"center",marginTop:20},card:{width:"60vw"},cardContent:{textAlign:"center"},button:{minHeight:60}});var $t=function(){var e=Vt(),t=Object(s.g)(),a=function(e){return function(){return t.push(e)}};return l.a.createElement("div",{className:e.root},l.a.createElement(u.a,{className:e.card},l.a.createElement(Ye.a,{title:"Select The Device"}),l.a.createElement(m.a,{className:e.cardContent},l.a.createElement(Mt.a,{className:e.buttonGroup,orientation:"vertical",color:"primary"},l.a.createElement(f.a,{className:e.button,onClick:a("/lightbars")},"Lightbars Configurator"),l.a.createElement(f.a,{className:e.button,onClick:a("/message-board")},"Message Board Configurator")))))},Ut=Object(y.b)({name:"lightbarSchema",initialState:{lightbar:null,name:null,schema:[]},reducers:{setLightbar:function(e,t){e.lightbar=t.payload,e.schema=function(e){var t=[];if(e)for(var a=0;a<e.front+e.rear+6;a+=1)t.push([]);return t}(e.lightbar)},setName:function(e,t){e.name=t.payload},setSchema:function(e,t){e.schema=t.payload}}}),Jt=Ut.actions,qt=Jt.setLightbar,Yt=(Jt.setName,Jt.setSchema,function(e){return e.lightbarSchema.name}),Kt=function(e){return e.lightbarSchema.schema},Qt=Ut.reducer,Xt=function(){var e=Object(g.c)(F),t=Object(g.b)();Object(g.c)(Yt),Object(g.c)(Kt);if(l.a.useEffect((function(){t(qt(e))}),[]),!e)return l.a.createElement(s.a,{to:"/lightbars"});var a=ie(e);return l.a.createElement(u.a,null,l.a.createElement(m.a,null,l.a.createElement(Ge,{lights:a,onClick:function(e){return console.log(e)}})))},Zt=Object(i.a)({root:{}});var _t=function(){var e=Zt();return l.a.createElement("div",{className:e.root},l.a.createElement(ze,null),l.a.createElement(s.d,null,l.a.createElement(s.b,{path:"/lightbars"},l.a.createElement(H,null)),l.a.createElement(s.b,{path:"/lightbar/schema"},l.a.createElement(Xt,null)),l.a.createElement(s.b,{path:"/lightbar"},l.a.createElement(Ft,null)),l.a.createElement(s.b,{path:"/message-board"},l.a.createElement(Ht,null)),l.a.createElement(s.b,{path:"/"},l.a.createElement($t,null))))},ea=Object(y.a)({reducer:{lightbarSchema:Qt,lightbarSelector:N,lightbar:je,scrollingBoard:De}}),ta=a(213),aa=Object(ta.a)();Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var na=a(58);o.a.render(l.a.createElement(c.a,{theme:aa},l.a.createElement(g.a,{store:ea},l.a.createElement(na.a,{basename:"/"},l.a.createElement(_t,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[221,1,2]]]);
//# sourceMappingURL=main.013dd3c3.chunk.js.map